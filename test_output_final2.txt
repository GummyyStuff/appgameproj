bun test v1.2.19 (aad3abea)

packages/backend/src/services/case-opening-performance.test.ts:
Single case opening time: 1.50ms
(pass) Case Opening Performance Tests > Single Operation Performance > should complete single case opening within performance threshold [2.00ms]
Performance metrics over 1000 operations:
Average: 0.03ms
Min: 0.02ms
Max: 1.08ms
First batch avg: 0.04ms
Last batch avg: 0.04ms
(pass) Case Opening Performance Tests > Single Operation Performance > should maintain consistent performance across multiple operations [32.00ms]
Concurrent load test (50 users):
Total time: 0.73ms
Average execution time: 0.43ms
Max execution time: 0.46ms
(pass) Case Opening Performance Tests > Concurrent User Load Testing > should handle moderate concurrent case openings [1.00ms]
High load test (200 users in 4 batches):
Total time: 43.96ms
First batch avg: 0.25ms
Last batch avg: 0.20ms
Batch 0: 50 users, avg: 0.25ms, max: 0.28ms
Batch 1: 50 users, avg: 0.35ms, max: 0.43ms
Batch 2: 50 users, avg: 0.37ms, max: 0.41ms
Batch 3: 50 users, avg: 0.20ms, max: 0.22ms
(pass) Case Opening Performance Tests > Concurrent User Load Testing > should handle high concurrent load without degradation [45.00ms]
Memory usage after 5000 operations:
Initial heap: 10.92MB
Final heap: 11.88MB
Growth: 0.96MB
(pass) Case Opening Performance Tests > Memory and Resource Usage > should not leak memory during extended operations [142.00ms]
Large item pool performance (500 items):
Average time: 0.03ms
Max time: 0.87ms
(pass) Case Opening Performance Tests > Memory and Resource Usage > should handle large item pools efficiently [34.00ms]
Value calculation performance (100000 calculations):
Total time: 12.16ms
Average per calculation: 0.0001ms
(pass) Case Opening Performance Tests > Value Calculation Performance > should calculate item values efficiently at scale [12.00ms]
Extreme load test (1000 concurrent operations):
Total time: 6.02ms
Fulfilled: 1000
Rejected: 0
Success rate: 100.00%
(pass) Case Opening Performance Tests > Stress Testing > should survive extreme load conditions [7.00ms]

packages/backend/src/services/case-opening-comprehensive.test.ts:

# Unhandled error between tests
-------------------------------
18 | import { CaseOpeningMonitoringService } from './case-opening-monitoring'
19 | 
20 | // Note: This test runs without database mocking for simplicity
21 | 
22 | describe('Comprehensive Case Opening System Test', () => {
23 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-comprehensive.test.ts:23:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/case-opening-comprehensive.test.ts:22:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/currency.test.ts:
(pass) CurrencyService Static Methods > formatCurrency > should format roubles correctly [9.00ms]
(pass) CurrencyService Static Methods > formatCurrency > should format dollars correctly
(pass) CurrencyService Static Methods > formatCurrency > should format euros correctly
(pass) CurrencyService Static Methods > formatCurrency > should handle decimal amounts [1.00ms]
(pass) CurrencyService Static Methods > formatCurrency > should handle large amounts
(pass) CurrencyService Static Methods > formatCurrency > should handle zero amounts
(pass) CurrencyService Static Methods > formatCurrency > should handle small decimal amounts
(pass) CurrencyService Static Methods > getStartingBalance > should return configured starting balance
(pass) CurrencyService Static Methods > getDailyBonusAmount > should return configured daily bonus amount
(pass) CurrencyService Validation Logic > Balance validation logic > should validate positive amounts
(pass) CurrencyService Validation Logic > Balance validation logic > should reject negative amounts
(pass) CurrencyService Validation Logic > Balance validation logic > should reject zero amounts
(pass) CurrencyService Validation Logic > Daily bonus cooldown logic > should calculate cooldown correctly [2.00ms]
(pass) CurrencyService Validation Logic > Daily bonus cooldown logic > should calculate next available date correctly
(pass) CurrencyService Validation Logic > Transaction validation logic > should validate bet amounts
(pass) CurrencyService Validation Logic > Transaction validation logic > should validate win amounts
(pass) CurrencyService Validation Logic > Transaction validation logic > should calculate net results correctly

packages/backend/src/services/case-opening-monitoring.test.ts:
✅ test_operation completed in 50ms {
  user_id: "test-user",
  case_type_id: "test-case",
  item_rarity: "rare",
}
(pass) Case Opening Monitoring Service > Operation Recording > should record successful operations [1.00ms]
❌ test_operation failed after 100ms {
  user_id: "test-user",
  case_type_id: "test-case",
  error_message: "Test error",
}
(pass) Case Opening Monitoring Service > Operation Recording > should record failed operations
✅ test_operation completed in 123.46ms {}
(pass) Case Opening Monitoring Service > Operation Recording > should calculate duration correctly
🎲 Case opening started {
  user_id: "user-123",
  case_type_id: "case-456",
  timestamp: "2025-09-28T16:11:25.278Z",
}
(pass) Case Opening Monitoring Service > Case Opening Specific Recording > should record case opening start
✅ case_opening completed in 200ms {
  user_id: "user-123",
  case_type_id: "case-456",
  item_rarity: "legendary",
  currency_awarded: 5000,
  opening_id: "opening-789",
}
(pass) Case Opening Monitoring Service > Case Opening Specific Recording > should record successful case opening
❌ case_opening failed after 150ms {
  user_id: "user-123",
  case_type_id: "case-456",
  error_message: "Insufficient balance",
}
(pass) Case Opening Monitoring Service > Case Opening Specific Recording > should record failed case opening
(pass) Case Opening Monitoring Service > Performance Metrics > should calculate performance metrics correctly
(pass) Case Opening Monitoring Service > Performance Metrics > should handle empty metrics gracefully [1.00ms]
Error fetching performance metrics: 242 | 
243 |     test('should handle database errors gracefully', async () => {
244 |       const { supabaseAdmin } = await import('../config/supabase')
245 |       const mockSelect = jest.fn(() => ({
246 |         eq: jest.fn(() => ({
247 |           gte: jest.fn().mockResolvedValue({ data: null, error: new Error('Database error') })
                                                                      ^
error: Database error
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.test.ts:247:65)
      at getPerformanceMetrics (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.ts:242:10)
      at getPerformanceMetrics (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.ts:232:5)
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.test.ts:253:58)

(pass) Case Opening Monitoring Service > Performance Metrics > should handle database errors gracefully
(pass) Case Opening Monitoring Service > Fairness Metrics > should calculate fairness metrics correctly
Error fetching case type: 320 |       const { supabaseAdmin } = await import('../config/supabase')
321 | 
322 |       supabaseAdmin.from = jest.fn(() => ({
323 |         select: jest.fn(() => ({
324 |           eq: jest.fn(() => ({
325 |             single: jest.fn().mockResolvedValue({ data: null, error: new Error('Not found') })
                                                                           ^
error: Not found
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.test.ts:325:70)
      at getFairnessMetrics (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.ts:283:10)
      at getFairnessMetrics (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.ts:277:35)
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.test.ts:330:66)

(pass) Case Opening Monitoring Service > Fairness Metrics > should handle missing case type gracefully [1.00ms]
(pass) Case Opening Monitoring Service > System Health > should report healthy system
(pass) Case Opening Monitoring Service > System Health > should report degraded system with high response time
(pass) Case Opening Monitoring Service > System Health > should report unhealthy system with high error rate
(pass) Case Opening Monitoring Service > System Health > should handle database errors in health check
🚨 CRITICAL ERROR: {
  timestamp: "2025-09-28T16:11:25.281Z",
  level: "CRITICAL",
  operation: "test_operation",
  error_message: "Critical test error",
  error_stack: "Error stack trace",
  context: {
    user_id: "test-user",
  },
}
(pass) Case Opening Monitoring Service > Logging Functions > should log critical errors
⚠️ WARNING: {
  timestamp: "2025-09-28T16:11:25.281Z",
  level: "WARNING",
  operation: "test_operation",
  message: "Test warning message",
  context: {
    case_id: "test-case",
  },
}
(pass) Case Opening Monitoring Service > Logging Functions > should log warnings
ℹ️ INFO: {
  timestamp: "2025-09-28T16:11:25.281Z",
  level: "INFO",
  operation: "test_operation",
  message: "Test info message",
  context: {
    status: "success",
  },
}
(pass) Case Opening Monitoring Service > Logging Functions > should log info messages
(pass) Case Opening Monitoring Service > Dashboard Data > should compile dashboard data successfully [1.00ms]
✅ currency_transaction completed in 25ms {
  user_id: "user-123",
  transaction_type: "debit",
  amount: 500,
  error_message: undefined,
}
(pass) Case Opening Monitoring Service > Currency Transaction Recording > should record successful currency transactions
❌ currency_transaction failed after 75ms {
  user_id: "user-123",
  transaction_type: "credit",
  amount: 1000,
  error_message: "Insufficient balance",
}
556 |         1000,
557 |         false,
558 |         'Insufficient balance'
559 |       )
560 | 
561 |       expect(console.error).toHaveBeenCalledWith(
                                  ^
error: expect(received).toHaveBeenCalledWith(expected)

Number of calls: 1

      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.test.ts:561:29)
(fail) Case Opening Monitoring Service > Currency Transaction Recording > should record failed currency transactions
✅ db_select_case_types completed in 30ms {
  record_count: 5,
  error_message: undefined,
}
(pass) Case Opening Monitoring Service > Database Operation Recording > should record database operations
❌ db_insert_metrics failed after 200ms {
  record_count: undefined,
  error_message: "Connection timeout",
}
600 |         false,
601 |         undefined,
602 |         'Connection timeout'
603 |       )
604 | 
605 |       expect(console.error).toHaveBeenCalledWith(
                                  ^
error: expect(received).toHaveBeenCalledWith(expected)

Number of calls: 1

      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring.test.ts:605:29)
(fail) Case Opening Monitoring Service > Database Operation Recording > should record failed database operations

packages/backend/src/services/statistics-integration.test.ts:
(pass) Statistics Integration Tests > Statistics Service Integration > should have all required methods [1.00ms]
(pass) Statistics Integration Tests > Statistics Service Integration > should return consistent empty statistics structure [1.00ms]
(pass) Statistics Integration Tests > Statistics Service Integration > should handle edge cases gracefully
(pass) Statistics Integration Tests > Database Service Integration > should have all required methods for statistics
(pass) Statistics Integration Tests > Type Safety > should maintain type safety across all statistics methods
(pass) Statistics Integration Tests > Data Consistency > should maintain data consistency across different calculation methods [1.00ms]

packages/backend/src/services/case-opening-currency.test.ts:
(pass) Case Opening Currency Transaction Tests > Balance Validation Logic > should correctly validate sufficient balance [1.00ms]
(pass) Case Opening Currency Transaction Tests > Balance Validation Logic > should handle edge cases in balance validation
(pass) Case Opening Currency Transaction Tests > Transaction Atomicity Simulation > should simulate atomic transaction behavior
(pass) Case Opening Currency Transaction Tests > Transaction Atomicity Simulation > should handle concurrent transaction simulation
Profitable case opening: Currency=1200, Profit=700
Break-even case opening: Currency=500, Profit=0
Loss case opening: Currency=200, Profit=-300
High multiplier case: Currency=1500, Profit=500
Fractional multiplier: Currency=499, Profit=-1
(pass) Case Opening Currency Transaction Tests > Currency Calculation Validation > should validate currency calculations for different scenarios
(pass) Case Opening Currency Transaction Tests > Currency Calculation Validation > should handle precision in currency calculations
(pass) Case Opening Currency Transaction Tests > Transaction History Validation > should validate game history entry structure
(pass) Case Opening Currency Transaction Tests > Transaction History Validation > should calculate statistics from transaction history
(pass) Case Opening Currency Transaction Tests > Balance Consistency Validation > should maintain balance consistency across multiple operations

packages/backend/src/services/database.test.ts:
(pass) DatabaseService > Static Methods > should have all required methods
(pass) DatabaseService > User Profile Operations > should validate user profile structure
(pass) DatabaseService > Balance Operations > should validate balance update parameters
(pass) DatabaseService > Balance Operations > should validate transaction parameters
(pass) DatabaseService > Game History Operations > should validate game history record structure
(pass) DatabaseService > Game History Operations > should validate game history query parameters
203 |       }
204 | 
205 |       for (const query of invalidQueries) {
206 |         const isValid = !!(query.userId &&
207 |                           (!query.gameType || ['roulette', 'blackjack'].includes(query.gameType as any)))
208 |         expect(isValid).toBe(false)
                              ^
error: expect(received).toBe(expected)

Expected: false
Received: true

      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/database.test.ts:208:25)
(fail) DatabaseService > Statistics Operations > should validate statistics query parameters
(pass) DatabaseService > Daily Bonus Operations > should validate daily bonus logic
(pass) DatabaseService > Daily Bonus Operations > should validate bonus amount
(pass) DatabaseService > Leaderboard Operations > should validate leaderboard query parameters
(pass) DatabaseService > Error Handling > should handle database connection errors gracefully [1.00ms]
(pass) DatabaseService > Error Handling > should handle invalid user IDs
296 | 
297 |       // These should be treated as regular strings, not SQL
298 |       for (const input of maliciousInputs) {
299 |         expect(typeof input).toBe('string')
300 |         // In a real implementation, these would be sanitized
301 |         expect(input.includes("'")).toBe(true)
                                          ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/database.test.ts:301:37)
(fail) DatabaseService > Error Handling > should handle SQL injection attempts
(pass) DatabaseService > Data Consistency > should maintain referential integrity
(pass) DatabaseService > Data Consistency > should validate transaction atomicity

packages/backend/src/services/case-opening-monitoring-simple.test.ts:

# Unhandled error between tests
-------------------------------
15 | process.env.DAILY_BONUS = '1000'
16 | 
17 | describe('Case Opening Monitoring Service - Core Functions', () => {
18 |   let originalConsole: typeof console
19 | 
20 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring-simple.test.ts:20:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/case-opening-monitoring-simple.test.ts:17:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/statistics.test.ts:

# Unhandled error between tests
-------------------------------
 8 | import { GameHistory } from '../types/database'
 9 | 
10 | describe('StatisticsService', () => {
11 |   let mockGameHistory: GameHistory[]
12 | 
13 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/statistics.test.ts:13:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/statistics.test.ts:10:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/case-opening-integration.test.ts:
Error in selectRandomItem: 170 |       const rarityFilteredItems = itemPool.filter(weightedItem =>
171 |         weightedItem.item.rarity === selectedRarity
172 |       )
173 | 
174 |       if (rarityFilteredItems.length === 0) {
175 |         throw new Error(`No items found for rarity: ${selectedRarity}`)
                    ^
error: No items found for rarity: uncommon
      at selectRandomItem (/home/juan/random/appgameproj/packages/backend/src/services/case-opening.ts:175:15)

197 | 
198 |       // Fallback to last item (should not happen with proper weights)
199 |       return rarityFilteredItems[rarityFilteredItems.length - 1]
200 |     } catch (error) {
201 |       console.error('Error in selectRandomItem:', error)
202 |       throw new Error('Failed to select random item')
                  ^
error: Failed to select random item
      at selectRandomItem (/home/juan/random/appgameproj/packages/backend/src/services/case-opening.ts:202:13)
(fail) Case Opening Service Integration > Complete Case Opening Workflow > should demonstrate complete case opening logic flow
(pass) Case Opening Service Integration > Complete Case Opening Workflow > should validate case opening request structure
Error in selectRandomItem: 170 |       const rarityFilteredItems = itemPool.filter(weightedItem =>
171 |         weightedItem.item.rarity === selectedRarity
172 |       )
173 | 
174 |       if (rarityFilteredItems.length === 0) {
175 |         throw new Error(`No items found for rarity: ${selectedRarity}`)
                    ^
error: No items found for rarity: uncommon
      at selectRandomItem (/home/juan/random/appgameproj/packages/backend/src/services/case-opening.ts:175:15)

197 | 
198 |       // Fallback to last item (should not happen with proper weights)
199 |       return rarityFilteredItems[rarityFilteredItems.length - 1]
200 |     } catch (error) {
201 |       console.error('Error in selectRandomItem:', error)
202 |       throw new Error('Failed to select random item')
                  ^
error: Failed to select random item
      at selectRandomItem (/home/juan/random/appgameproj/packages/backend/src/services/case-opening.ts:202:13)
(fail) Case Opening Service Integration > Complete Case Opening Workflow > should demonstrate provably fair algorithm properties [1.00ms]
(pass) Case Opening Service Integration > Complete Case Opening Workflow > should handle case opening result structure correctly
(pass) Case Opening Service Integration > Complete Case Opening Workflow > should demonstrate game history integration
(pass) Case Opening Service Integration > API Endpoint Structure Validation > should validate GET /api/games/cases response structure
(pass) Case Opening Service Integration > API Endpoint Structure Validation > should validate POST /api/games/cases/open response structure
(pass) Case Opening Service Integration > API Endpoint Structure Validation > should validate GET /api/games/cases/stats response structure

packages/backend/src/services/case-opening-fairness.test.ts:
Distribution Test Results:
Common: 60.33% (expected: 60%)
Uncommon: 24.93% (expected: 25%)
Rare: 9.75% (expected: 10%)
Epic: 3.92% (expected: 4%)
Legendary: 1.07% (expected: 1%)
(pass) Case Opening Fairness and Distribution Tests > Statistical Rarity Distribution Tests > should maintain statistical distribution over large sample size [283.99ms]
Max consecutive common items: 13
Max consecutive legendary items: 1
(pass) Case Opening Fairness and Distribution Tests > Statistical Rarity Distribution Tests > should ensure no bias in consecutive selections [28.00ms]
Chi-square statistic: 1.7271
Critical value (α=0.05): 9.488
Test result: PASS
(pass) Case Opening Fairness and Distribution Tests > Statistical Rarity Distribution Tests > should validate chi-square goodness of fit test [145.00ms]
Light Item: 25.82% (expected: 25%)
Heavy Item: 74.17% (expected: 75%)
(pass) Case Opening Fairness and Distribution Tests > Weighted Item Selection Fairness > should respect item weights within same rarity [114.00ms]
Common: 99.10% (expected: 99%)
Legendary: 0.90% (expected: 1%)
(pass) Case Opening Fairness and Distribution Tests > Edge Case Fairness Tests > should handle extreme rarity distributions correctly [282.99ms]
(pass) Case Opening Fairness and Distribution Tests > Edge Case Fairness Tests > should handle single item pools correctly [4.00ms]
(pass) Case Opening Fairness and Distribution Tests > Value Calculation Fairness > should apply value multipliers consistently
(pass) Case Opening Fairness and Distribution Tests > Value Calculation Fairness > should ensure value calculations are deterministic
Runs test: 483 runs (expected: ~501)
(pass) Case Opening Fairness and Distribution Tests > Randomness Quality Tests > should pass basic randomness tests [28.00ms]

packages/backend/src/services/case-opening.test.ts:
(pass) Case Opening Service > Item Value Calculation > should calculate correct item value with multiplier
(pass) Case Opening Service > Item Value Calculation > should floor the result correctly
(pass) Case Opening Service > Item Value Calculation > should handle zero multiplier
(pass) Case Opening Service > Item Value Calculation > should handle large values
(pass) Case Opening Service > Rarity Distribution Logic > should select correct rarity based on probability distribution
(pass) Case Opening Service > Rarity Distribution Logic > should handle edge cases in distribution
(pass) Case Opening Service > Rarity Distribution Logic > should validate rarity distribution totals
(pass) Case Opening Service > Weighted Item Selection Logic > should select items based on weight distribution
(pass) Case Opening Service > Weighted Item Selection Logic > should handle single item selection
(pass) Case Opening Service > Weighted Item Selection Logic > should handle zero weight items correctly
(pass) Case Opening Service > Opening ID Generation > should generate unique opening IDs [3.00ms]
(pass) Case Opening Service > Opening ID Generation > should handle short user IDs
(pass) Case Opening Service > Opening ID Generation > should include timestamp for uniqueness
(pass) Case Opening Service > Validation Logic > should validate balance calculation logic
(pass) Case Opening Service > Validation Logic > should validate case type structure
(pass) Case Opening Service > Validation Logic > should validate item pool structure
(pass) Case Opening Service > Provably Fair Algorithm Logic > should demonstrate rarity selection algorithm
(pass) Case Opening Service > Provably Fair Algorithm Logic > should demonstrate weighted item selection algorithm
(pass) Case Opening Service > Statistics Calculation Logic > should calculate case opening statistics correctly

packages/backend/src/services/case-opening-unit.test.ts:
(pass) Case Opening Core Algorithms > Item Value Calculation > should calculate correct item value with multiplier
(pass) Case Opening Core Algorithms > Rarity Distribution Algorithm > should select correct rarity based on probability distribution [1.00ms]
(pass) Case Opening Core Algorithms > Rarity Distribution Algorithm > should handle edge cases in distribution
(pass) Case Opening Core Algorithms > Weighted Item Selection Algorithm > should select items based on weight distribution
(pass) Case Opening Core Algorithms > Weighted Item Selection Algorithm > should handle single item selection
(pass) Case Opening Core Algorithms > Opening ID Generation > should generate unique opening IDs [2.00ms]
(pass) Case Opening Core Algorithms > Opening ID Generation > should handle short user IDs
(pass) Case Opening Core Algorithms > Validation Logic > should validate balance calculation logic
(pass) Case Opening Core Algorithms > Validation Logic > should validate case type structure
(pass) Case Opening Core Algorithms > Statistics Calculation Logic > should calculate case opening statistics correctly
(pass) Case Opening Core Algorithms > Provably Fair Algorithm Properties > should demonstrate deterministic behavior with same inputs
(pass) Case Opening Core Algorithms > Provably Fair Algorithm Properties > should validate rarity distribution percentages

packages/backend/src/test-utils/security-core.test.ts:
(pass) Security Core Functions > InputSanitizer > should sanitize strings [1.00ms]
(pass) Security Core Functions > InputSanitizer > should escape HTML [1.00ms]
(pass) Security Core Functions > InputSanitizer > should sanitize email addresses
(pass) Security Core Functions > InputSanitizer > should sanitize usernames
(pass) Security Core Functions > InputSanitizer > should sanitize numbers
(pass) Security Core Functions > InputSanitizer > should deep sanitize objects
(pass) Security Core Functions > ThreatDetector > should detect SQL injection attempts
(pass) Security Core Functions > ThreatDetector > should detect XSS attempts
(pass) Security Core Functions > ThreatDetector > should detect path traversal attempts
(pass) Security Core Functions > ThreatDetector > should detect command injection attempts
(pass) Security Core Functions > ThreatDetector > should analyze input for multiple threats

packages/backend/src/test-utils/blackjack-request.test.ts:
(pass) Blackjack Request Validation > should validate the exact request from frontend [1.00ms]
(pass) Blackjack Request Validation > should handle optional handIndex
(pass) Blackjack Request Validation > should validate all blackjack actions
(pass) Blackjack Request Validation > should reject invalid actions [1.00ms]
(pass) Blackjack Request Validation > should reject invalid handIndex

packages/backend/src/test-utils/blackjack-validation.test.ts:
(pass) Blackjack Game ID Validation > should accept blackjack game ID format
(pass) Blackjack Game ID Validation > should accept other game ID formats
(pass) Blackjack Game ID Validation > should reject invalid game ID formats
(pass) Blackjack Game ID Validation > should work with blackjack action schema [1.00ms]

packages/backend/src/test-utils/performance.test.ts:

# Unhandled error between tests
-------------------------------
10 | import type { GameBet } from '../services/game-engine/types'
11 | 
12 | describe('Performance Testing', () => {
13 |   let gameEngine: CoreGameEngine
14 | 
15 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/test-utils/performance.test.ts:15:3)
      at /home/juan/random/appgameproj/packages/backend/src/test-utils/performance.test.ts:12:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/test-utils/security-standalone.test.ts:
(pass) Security Hardening - Standalone Tests > Input Sanitization > should sanitize strings by removing control characters
(pass) Security Hardening - Standalone Tests > Input Sanitization > should escape HTML characters
(pass) Security Hardening - Standalone Tests > Input Sanitization > should normalize email addresses
(pass) Security Hardening - Standalone Tests > Input Sanitization > should clean usernames
(pass) Security Hardening - Standalone Tests > Input Sanitization > should handle empty and invalid inputs
(pass) Security Hardening - Standalone Tests > Input Sanitization > should limit string length
(pass) Security Hardening - Standalone Tests > Threat Detection > should detect SQL injection patterns
(pass) Security Hardening - Standalone Tests > Threat Detection > should detect XSS patterns
(pass) Security Hardening - Standalone Tests > Threat Detection > should detect path traversal patterns
(pass) Security Hardening - Standalone Tests > Threat Detection > should detect command injection patterns [1.00ms]
(pass) Security Hardening - Standalone Tests > Threat Detection > should analyze input for multiple threat types
(pass) Security Hardening - Standalone Tests > Threat Detection > should return empty array for safe input
(pass) Security Hardening - Standalone Tests > Threat Detection > should handle edge cases
(pass) Security Hardening - Standalone Tests > Rate Limiting Logic > should implement basic rate limiting logic
(pass) Security Hardening - Standalone Tests > Session Management Logic > should implement basic session validation
(pass) Security Integration > should demonstrate complete security pipeline

packages/backend/src/test-utils/game-fairness.test.ts:
(pass) Game Fairness Testing > Random Number Generation Fairness > should pass chi-square test for uniform distribution [142.00ms]
(pass) Game Fairness Testing > Random Number Generation Fairness > should pass runs test for randomness [16.00ms]
(pass) Game Fairness Testing > Random Number Generation Fairness > should generate cryptographically secure seeds [2.00ms]
(pass) Game Fairness Testing > Random Number Generation Fairness > should maintain provably fair consistency [1.00ms]
159 |         const actualRTP = totalWins / totalBets
160 |         const expectedRTP = betType.expectedRTP
161 | 
162 |         // Allow 5% variance from expected RTP
163 |         const tolerance = 0.05
164 |         expect(Math.abs(actualRTP - expectedRTP)).toBeLessThan(tolerance)
                                                        ^
error: expect(received).toBeLessThan(expected)

Expected: < 0.05
Received: 0.9844729729729731

      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/test-utils/game-fairness.test.ts:164:51)
(fail) Game Fairness Testing > Roulette Fairness Testing > should have correct theoretical return to player (RTP) [606.98ms]
(pass) Game Fairness Testing > Roulette Fairness Testing > should distribute winning numbers uniformly [110.00ms]
213 |         expect(expectedValue).toBeLessThan(0)
214 | 
215 |         // House edge should be reasonable (around 2.7% for European roulette)
216 |         const houseEdge = Math.abs(expectedValue)
217 |         expect(houseEdge).toBeGreaterThan(0.02)
218 |         expect(houseEdge).toBeLessThan(0.05)
                                ^
error: expect(received).toBeLessThan(expected)

Expected: < 0.05
Received: 0.054054054054053946

      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/test-utils/game-fairness.test.ts:218:27)
(fail) Game Fairness Testing > Roulette Fairness Testing > should maintain correct payout ratios
Loaded 4 active blackjack games from file
Storing game with ID: blackjack-1759075887124-user0
Active games after storing: 5
Storing game with ID: blackjack-1759075887125-user1
Active games after storing: 6
Storing game with ID: blackjack-1759075887126-user2
Active games after storing: 7
Storing game with ID: blackjack-1759075887128-user3
Active games after storing: 8
Storing game with ID: blackjack-1759075887129-user4
Active games after storing: 9
Storing game with ID: blackjack-1759075887130-user5
Active games after storing: 10
Storing game with ID: blackjack-1759075887131-user6
Active games after storing: 11
Storing game with ID: blackjack-1759075887132-user7
Active games after storing: 12
Storing game with ID: blackjack-1759075887133-user8
Active games after storing: 13
Storing game with ID: blackjack-1759075887134-user9
Active games after storing: 14
Storing game with ID: blackjack-1759075887135-user10
Active games after storing: 15
Storing game with ID: blackjack-1759075887136-user11
Active games after storing: 16
Storing game with ID: blackjack-1759075887137-user12
Active games after storing: 17
Storing game with ID: blackjack-1759075887137-user13
Active games after storing: 18
Storing game with ID: blackjack-1759075887138-user14
Active games after storing: 19
Storing game with ID: blackjack-1759075887140-user15
Active games after storing: 20
Storing game with ID: blackjack-1759075887141-user16
Active games after storing: 21
Storing game with ID: blackjack-1759075887142-user17
Active games after storing: 22
Storing game with ID: blackjack-1759075887143-user18
Active games after storing: 23
Storing game with ID: blackjack-1759075887144-user19
Active games after storing: 24
Storing game with ID: blackjack-1759075887145-user20
Active games after storing: 25
Storing game with ID: blackjack-1759075887146-user21
Active games after storing: 26
Storing game with ID: blackjack-1759075887147-user22
Active games after storing: 27
Storing game with ID: blackjack-1759075887148-user23
Active games after storing: 28
Storing game with ID: blackjack-1759075887149-user24
Active games after storing: 29
Storing game with ID: blackjack-1759075887150-user25
Active games after storing: 30
Storing game with ID: blackjack-1759075887151-user26
Active games after storing: 31
Storing game with ID: blackjack-1759075887153-user27
Active games after storing: 32
Storing game with ID: blackjack-1759075887154-user28
Active games after storing: 33
Storing game with ID: blackjack-1759075887155-user29
Active games after storing: 34
Storing game with ID: blackjack-1759075887156-user30
Active games after storing: 35
Storing game with ID: blackjack-1759075887157-user31
Active games after storing: 36
Storing game with ID: blackjack-1759075887158-user32
Active games after storing: 37
Storing game with ID: blackjack-1759075887160-user33
Active games after storing: 38
Storing game with ID: blackjack-1759075887162-user34
Active games after storing: 39
Storing game with ID: blackjack-1759075887163-user35
Active games after storing: 40
Storing game with ID: blackjack-1759075887164-user36
Active games after storing: 41
Storing game with ID: blackjack-1759075887165-user37
Active games after storing: 42
Storing game with ID: blackjack-1759075887167-user38
Active games after storing: 43
Storing game with ID: blackjack-1759075887168-user39
Active games after storing: 44
Storing game with ID: blackjack-1759075887170-user40
Active games after storing: 45
Storing game with ID: blackjack-1759075887171-user41
Active games after storing: 46
Storing game with ID: blackjack-1759075887172-user42
Active games after storing: 47
Storing game with ID: blackjack-1759075887174-user43
Active games after storing: 48
Storing game with ID: blackjack-1759075887176-user44
Active games after storing: 49
Storing game with ID: blackjack-1759075887177-user45
Active games after storing: 50
Storing game with ID: blackjack-1759075887179-user46
Active games after storing: 51
Storing game with ID: blackjack-1759075887180-user47
Active games after storing: 52
Storing game with ID: blackjack-1759075887181-user48
Active games after storing: 53
Storing game with ID: blackjack-1759075887182-user49
Active games after storing: 54
Storing game with ID: blackjack-1759075887184-user50
Active games after storing: 55
Storing game with ID: blackjack-1759075887185-user51
Active games after storing: 56
Storing game with ID: blackjack-1759075887187-user53
Active games after storing: 57
Storing game with ID: blackjack-1759075887189-user54
Active games after storing: 58
Storing game with ID: blackjack-1759075887190-user55
Active games after storing: 59
Storing game with ID: blackjack-1759075887192-user56
Active games after storing: 60
Storing game with ID: blackjack-1759075887193-user57
Active games after storing: 61
Storing game with ID: blackjack-1759075887194-user58
Active games after storing: 62
Storing game with ID: blackjack-1759075887196-user59
Active games after storing: 63
Storing game with ID: blackjack-1759075887197-user60
Active games after storing: 64
Storing game with ID: blackjack-1759075887198-user61
Active games after storing: 65
Storing game with ID: blackjack-1759075887200-user62
Active games after storing: 66
Storing game with ID: blackjack-1759075887201-user63
Active games after storing: 67
Storing game with ID: blackjack-1759075887203-user65
Active games after storing: 68
Storing game with ID: blackjack-1759075887204-user66
Active games after storing: 69
Storing game with ID: blackjack-1759075887205-user67
Active games after storing: 70
Storing game with ID: blackjack-1759075887206-user68
Active games after storing: 71
Storing game with ID: blackjack-1759075887209-user69
Active games after storing: 72
Storing game with ID: blackjack-1759075887210-user70
Active games after storing: 73
Storing game with ID: blackjack-1759075887212-user71
Active games after storing: 74
Storing game with ID: blackjack-1759075887213-user72
Active games after storing: 75
Storing game with ID: blackjack-1759075887215-user73
Active games after storing: 76
Storing game with ID: blackjack-1759075887216-user74
Active games after storing: 77
Storing game with ID: blackjack-1759075887218-user75
Active games after storing: 78
Storing game with ID: blackjack-1759075887220-user76
Active games after storing: 79
Storing game with ID: blackjack-1759075887221-user77
Active games after storing: 80
Storing game with ID: blackjack-1759075887222-user78
Active games after storing: 81
Storing game with ID: blackjack-1759075887226-user79
Active games after storing: 82
Storing game with ID: blackjack-1759075887227-user80
Active games after storing: 83
Storing game with ID: blackjack-1759075887228-user81
Active games after storing: 84
Storing game with ID: blackjack-1759075887230-user82
Active games after storing: 85
Storing game with ID: blackjack-1759075887232-user83
Active games after storing: 86
Storing game with ID: blackjack-1759075887233-user84
Active games after storing: 87
Storing game with ID: blackjack-1759075887235-user85
Active games after storing: 88
Storing game with ID: blackjack-1759075887237-user87
Active games after storing: 89
Storing game with ID: blackjack-1759075887239-user88
Active games after storing: 90
Storing game with ID: blackjack-1759075887241-user89
Active games after storing: 91
Storing game with ID: blackjack-1759075887242-user90
Active games after storing: 92
Storing game with ID: blackjack-1759075887244-user91
Active games after storing: 93
Storing game with ID: blackjack-1759075887245-user92
Active games after storing: 94
Storing game with ID: blackjack-1759075887247-user93
Active games after storing: 95
Storing game with ID: blackjack-1759075887249-user94
Active games after storing: 96
Storing game with ID: blackjack-1759075887251-user95
Active games after storing: 97
Storing game with ID: blackjack-1759075887253-user96
Active games after storing: 98
Storing game with ID: blackjack-1759075887254-user97
Active games after storing: 99
Storing game with ID: blackjack-1759075887257-user98
Active games after storing: 100
Storing game with ID: blackjack-1759075887259-user99
Active games after storing: 101
Storing game with ID: blackjack-1759075887261-user100
Active games after storing: 102
Storing game with ID: blackjack-1759075887263-user101
Active games after storing: 103
Storing game with ID: blackjack-1759075887264-user102
Active games after storing: 104
Storing game with ID: blackjack-1759075887267-user104
Active games after storing: 105
Storing game with ID: blackjack-1759075887269-user105
Active games after storing: 106
Storing game with ID: blackjack-1759075887270-user106
Active games after storing: 107
Storing game with ID: blackjack-1759075887274-user107
Active games after storing: 108
Storing game with ID: blackjack-1759075887276-user108
Active games after storing: 109
Storing game with ID: blackjack-1759075887277-user109
Active games after storing: 110
Storing game with ID: blackjack-1759075887279-user110
Active games after storing: 111
Storing game with ID: blackjack-1759075887281-user111
Active games after storing: 112
Storing game with ID: blackjack-1759075887283-user113
Active games after storing: 113
Storing game with ID: blackjack-1759075887285-user114
Active games after storing: 114
Storing game with ID: blackjack-1759075887286-user115
Active games after storing: 115
Storing game with ID: blackjack-1759075887289-user116
Active games after storing: 116
Storing game with ID: blackjack-1759075887290-user117
Active games after storing: 117
Storing game with ID: blackjack-1759075887292-user118
Active games after storing: 118
Storing game with ID: blackjack-1759075887294-user119
Active games after storing: 119
Storing game with ID: blackjack-1759075887296-user121
Active games after storing: 120
Storing game with ID: blackjack-1759075887298-user122
Active games after storing: 121
Storing game with ID: blackjack-1759075887300-user123
Active games after storing: 122
Storing game with ID: blackjack-1759075887303-user124
Active games after storing: 123
Storing game with ID: blackjack-1759075887306-user126
Active games after storing: 124
Storing game with ID: blackjack-1759075887308-user127
Active games after storing: 125
Storing game with ID: blackjack-1759075887310-user128
Active games after storing: 126
Storing game with ID: blackjack-1759075887312-user129
Active games after storing: 127
Storing game with ID: blackjack-1759075887314-user130
Active games after storing: 128
Storing game with ID: blackjack-1759075887316-user131
Active games after storing: 129
Storing game with ID: blackjack-1759075887318-user132
Active games after storing: 130
Storing game with ID: blackjack-1759075887320-user133
Active games after storing: 131
Storing game with ID: blackjack-1759075887323-user134
Active games after storing: 132
Storing game with ID: blackjack-1759075887325-user135
Active games after storing: 133
Storing game with ID: blackjack-1759075887327-user136
Active games after storing: 134
Storing game with ID: blackjack-1759075887329-user137
Active games after storing: 135
Storing game with ID: blackjack-1759075887331-user138
Active games after storing: 136
Storing game with ID: blackjack-1759075887333-user139
Active games after storing: 137
Storing game with ID: blackjack-1759075887336-user140
Active games after storing: 138
Storing game with ID: blackjack-1759075887338-user141
Active games after storing: 139
Storing game with ID: blackjack-1759075887340-user142
Active games after storing: 140
Storing game with ID: blackjack-1759075887343-user143
Active games after storing: 141
Storing game with ID: blackjack-1759075887344-user144
Active games after storing: 142
Storing game with ID: blackjack-1759075887347-user145
Active games after storing: 143
Storing game with ID: blackjack-1759075887349-user146
Active games after storing: 144
Storing game with ID: blackjack-1759075887351-user147
Active games after storing: 145
Storing game with ID: blackjack-1759075887353-user148
Active games after storing: 146
Storing game with ID: blackjack-1759075887357-user149
Active games after storing: 147
Storing game with ID: blackjack-1759075887359-user150
Active games after storing: 148
Storing game with ID: blackjack-1759075887361-user151
Active games after storing: 149
Storing game with ID: blackjack-1759075887363-user152
Active games after storing: 150
Storing game with ID: blackjack-1759075887365-user153
Active games after storing: 151
Storing game with ID: blackjack-1759075887367-user154
Active games after storing: 152
Storing game with ID: blackjack-1759075887369-user155
Active games after storing: 153
Storing game with ID: blackjack-1759075887372-user156
Active games after storing: 154
Storing game with ID: blackjack-1759075887374-user157
Active games after storing: 155
Storing game with ID: blackjack-1759075887376-user158
Active games after storing: 156
Storing game with ID: blackjack-1759075887378-user159
Active games after storing: 157
Storing game with ID: blackjack-1759075887381-user160
Active games after storing: 158
Storing game with ID: blackjack-1759075887384-user161
Active games after storing: 159
Storing game with ID: blackjack-1759075887386-user162
Active games after storing: 160
Storing game with ID: blackjack-1759075887389-user163
Active games after storing: 161
Storing game with ID: blackjack-1759075887392-user164
Active games after storing: 162
Storing game with ID: blackjack-1759075887394-user165
Active games after storing: 163
Storing game with ID: blackjack-1759075887396-user166
Active games after storing: 164
Storing game with ID: blackjack-1759075887399-user167
Active games after storing: 165
Storing game with ID: blackjack-1759075887401-user168
Active games after storing: 166
Storing game with ID: blackjack-1759075887404-user170
Active games after storing: 167
Storing game with ID: blackjack-1759075887406-user171
Active games after storing: 168
Storing game with ID: blackjack-1759075887409-user172
Active games after storing: 169
Storing game with ID: blackjack-1759075887411-user173
Active games after storing: 170
Storing game with ID: blackjack-1759075887413-user174
Active games after storing: 171
Storing game with ID: blackjack-1759075887416-user175
Active games after storing: 172
Storing game with ID: blackjack-1759075887418-user176
Active games after storing: 173
Storing game with ID: blackjack-1759075887422-user177
Active games after storing: 174
Storing game with ID: blackjack-1759075887424-user178
Active games after storing: 175
Storing game with ID: blackjack-1759075887427-user179
Active games after storing: 176
Storing game with ID: blackjack-1759075887429-user180
Active games after storing: 177
Storing game with ID: blackjack-1759075887432-user181
Active games after storing: 178
Storing game with ID: blackjack-1759075887435-user182
Active games after storing: 179
Storing game with ID: blackjack-1759075887438-user183
Active games after storing: 180
Storing game with ID: blackjack-1759075887441-user184
Active games after storing: 181
Storing game with ID: blackjack-1759075887443-user185
Active games after storing: 182
Storing game with ID: blackjack-1759075887445-user186
Active games after storing: 183
Storing game with ID: blackjack-1759075887448-user187
Active games after storing: 184
Storing game with ID: blackjack-1759075887450-user188
Active games after storing: 185
Storing game with ID: blackjack-1759075887453-user189
Active games after storing: 186
Storing game with ID: blackjack-1759075887456-user190
Active games after storing: 187
Storing game with ID: blackjack-1759075887459-user191
Active games after storing: 188
Storing game with ID: blackjack-1759075887461-user192
Active games after storing: 189
Storing game with ID: blackjack-1759075887464-user193
Active games after storing: 190
Storing game with ID: blackjack-1759075887467-user194
Active games after storing: 191
Storing game with ID: blackjack-1759075887471-user195
Active games after storing: 192
Storing game with ID: blackjack-1759075887474-user196
Active games after storing: 193
Storing game with ID: blackjack-1759075887477-user197
Active games after storing: 194
Storing game with ID: blackjack-1759075887479-user198
Active games after storing: 195
Storing game with ID: blackjack-1759075887482-user199
Active games after storing: 196
Storing game with ID: blackjack-1759075887485-user200
Active games after storing: 197
Storing game with ID: blackjack-1759075887489-user201
Active games after storing: 198
Storing game with ID: blackjack-1759075887491-user202
Active games after storing: 199
Storing game with ID: blackjack-1759075887494-user203
Active games after storing: 200
Storing game with ID: blackjack-1759075887498-user205
Active games after storing: 201
Storing game with ID: blackjack-1759075887500-user206
Active games after storing: 202
Storing game with ID: blackjack-1759075887505-user208
Active games after storing: 203
Storing game with ID: blackjack-1759075887507-user209
Active games after storing: 204
Storing game with ID: blackjack-1759075887509-user210
Active games after storing: 205
Storing game with ID: blackjack-1759075887513-user211
Active games after storing: 206
Storing game with ID: blackjack-1759075887515-user212
Active games after storing: 207
Storing game with ID: blackjack-1759075887518-user213
Active games after storing: 208
Storing game with ID: blackjack-1759075887521-user214
Active games after storing: 209
Storing game with ID: blackjack-1759075887524-user215
Active games after storing: 210
Storing game with ID: blackjack-1759075887527-user216
Active games after storing: 211
Storing game with ID: blackjack-1759075887529-user217
Active games after storing: 212
Storing game with ID: blackjack-1759075887532-user218
Active games after storing: 213
Storing game with ID: blackjack-1759075887534-user219
Active games after storing: 214
Storing game with ID: blackjack-1759075887538-user220
Active games after storing: 215
Storing game with ID: blackjack-1759075887541-user222
Active games after storing: 216
Storing game with ID: blackjack-1759075887545-user224
Active games after storing: 217
Storing game with ID: blackjack-1759075887547-user225
Active games after storing: 218
Storing game with ID: blackjack-1759075887550-user226
Active games after storing: 219
Storing game with ID: blackjack-1759075887554-user227
Active games after storing: 220
Storing game with ID: blackjack-1759075887557-user228
Active games after storing: 221
Storing game with ID: blackjack-1759075887560-user229
Active games after storing: 222
Storing game with ID: blackjack-1759075887562-user230
Active games after storing: 223
Storing game with ID: blackjack-1759075887565-user231
Active games after storing: 224
Storing game with ID: blackjack-1759075887568-user232
Active games after storing: 225
Storing game with ID: blackjack-1759075887572-user233
Active games after storing: 226
Storing game with ID: blackjack-1759075887575-user234
Active games after storing: 227
Storing game with ID: blackjack-1759075887577-user235
Active games after storing: 228
Storing game with ID: blackjack-1759075887581-user236
Active games after storing: 229
Storing game with ID: blackjack-1759075887584-user239
Active games after storing: 230
Storing game with ID: blackjack-1759075887589-user240
Active games after storing: 231
Storing game with ID: blackjack-1759075887592-user241
Active games after storing: 232
Storing game with ID: blackjack-1759075887595-user242
Active games after storing: 233
Storing game with ID: blackjack-1759075887598-user243
Active games after storing: 234
Storing game with ID: blackjack-1759075887603-user245
Active games after storing: 235
Storing game with ID: blackjack-1759075887605-user246
Active games after storing: 236
Storing game with ID: blackjack-1759075887609-user247
Active games after storing: 237
Storing game with ID: blackjack-1759075887613-user248
Active games after storing: 238
Storing game with ID: blackjack-1759075887616-user249
Active games after storing: 239
Storing game with ID: blackjack-1759075887618-user250
Active games after storing: 240
Storing game with ID: blackjack-1759075887622-user251
Active games after storing: 241
Storing game with ID: blackjack-1759075887625-user252
Active games after storing: 242
Storing game with ID: blackjack-1759075887628-user253
Active games after storing: 243
Storing game with ID: blackjack-1759075887630-user254
Active games after storing: 244
Storing game with ID: blackjack-1759075887633-user255
Active games after storing: 245
Storing game with ID: blackjack-1759075887637-user256
Active games after storing: 246
Storing game with ID: blackjack-1759075887641-user257
Active games after storing: 247
Storing game with ID: blackjack-1759075887645-user258
Active games after storing: 248
Storing game with ID: blackjack-1759075887648-user259
Active games after storing: 249
Storing game with ID: blackjack-1759075887651-user260
Active games after storing: 250
Storing game with ID: blackjack-1759075887654-user261
Active games after storing: 251
Storing game with ID: blackjack-1759075887658-user262
Active games after storing: 252
Storing game with ID: blackjack-1759075887661-user263
Active games after storing: 253
Storing game with ID: blackjack-1759075887664-user264
Active games after storing: 254
Storing game with ID: blackjack-1759075887667-user265
Active games after storing: 255
Storing game with ID: blackjack-1759075887671-user266
Active games after storing: 256
Storing game with ID: blackjack-1759075887674-user267
Active games after storing: 257
Storing game with ID: blackjack-1759075887678-user268
Active games after storing: 258
Storing game with ID: blackjack-1759075887681-user269
Active games after storing: 259
Storing game with ID: blackjack-1759075887684-user270
Active games after storing: 260
Storing game with ID: blackjack-1759075887687-user271
Active games after storing: 261
Storing game with ID: blackjack-1759075887692-user272
Active games after storing: 262
Storing game with ID: blackjack-1759075887695-user273
Active games after storing: 263
Storing game with ID: blackjack-1759075887699-user274
Active games after storing: 264
Storing game with ID: blackjack-1759075887702-user275
Active games after storing: 265
Storing game with ID: blackjack-1759075887705-user276
Active games after storing: 266
Storing game with ID: blackjack-1759075887709-user277
Active games after storing: 267
Storing game with ID: blackjack-1759075887712-user278
Active games after storing: 268
Storing game with ID: blackjack-1759075887716-user279
Active games after storing: 269
Storing game with ID: blackjack-1759075887720-user280
Active games after storing: 270
Storing game with ID: blackjack-1759075887723-user281
Active games after storing: 271
Storing game with ID: blackjack-1759075887727-user282
Active games after storing: 272
Storing game with ID: blackjack-1759075887730-user283
Active games after storing: 273
Storing game with ID: blackjack-1759075887734-user284
Active games after storing: 274
Storing game with ID: blackjack-1759075887737-user285
Active games after storing: 275
Storing game with ID: blackjack-1759075887740-user286
Active games after storing: 276
Storing game with ID: blackjack-1759075887744-user287
Active games after storing: 277
Storing game with ID: blackjack-1759075887748-user288
Active games after storing: 278
Storing game with ID: blackjack-1759075887752-user289
Active games after storing: 279
Storing game with ID: blackjack-1759075887755-user290
Active games after storing: 280
Storing game with ID: blackjack-1759075887759-user291
Active games after storing: 281
Storing game with ID: blackjack-1759075887763-user292
Active games after storing: 282
Storing game with ID: blackjack-1759075887766-user293
Active games after storing: 283
Storing game with ID: blackjack-1759075887769-user294
Active games after storing: 284
Storing game with ID: blackjack-1759075887773-user295
Active games after storing: 285
Storing game with ID: blackjack-1759075887776-user296
Active games after storing: 286
Storing game with ID: blackjack-1759075887780-user297
Active games after storing: 287
Storing game with ID: blackjack-1759075887785-user298
Active games after storing: 288
Storing game with ID: blackjack-1759075887789-user300
Active games after storing: 289
Storing game with ID: blackjack-1759075887794-user302
Active games after storing: 290
Storing game with ID: blackjack-1759075887798-user303
Active games after storing: 291
Storing game with ID: blackjack-1759075887802-user304
Active games after storing: 292
Storing game with ID: blackjack-1759075887805-user305
Active games after storing: 293
Storing game with ID: blackjack-1759075887809-user306
Active games after storing: 294
Storing game with ID: blackjack-1759075887813-user307
Active games after storing: 295
Storing game with ID: blackjack-1759075887817-user308
Active games after storing: 296
Storing game with ID: blackjack-1759075887820-user309
Active games after storing: 297
Storing game with ID: blackjack-1759075887824-user310
Active games after storing: 298
Storing game with ID: blackjack-1759075887828-user311
Active games after storing: 299
Storing game with ID: blackjack-1759075887833-user313
Active games after storing: 300
Storing game with ID: blackjack-1759075887838-user314
Active games after storing: 301
Storing game with ID: blackjack-1759075887841-user315
Active games after storing: 302
Storing game with ID: blackjack-1759075887845-user316
Active games after storing: 303
Storing game with ID: blackjack-1759075887849-user317
Active games after storing: 304
Storing game with ID: blackjack-1759075887853-user318
Active games after storing: 305
Storing game with ID: blackjack-1759075887857-user319
Active games after storing: 306
Storing game with ID: blackjack-1759075887860-user320
Active games after storing: 307
Storing game with ID: blackjack-1759075887864-user321
Active games after storing: 308
Storing game with ID: blackjack-1759075887868-user322
Active games after storing: 309
Storing game with ID: blackjack-1759075887872-user323
Active games after storing: 310
Storing game with ID: blackjack-1759075887875-user324
Active games after storing: 311
Storing game with ID: blackjack-1759075887881-user326
Active games after storing: 312
Storing game with ID: blackjack-1759075887885-user327
Active games after storing: 313
Storing game with ID: blackjack-1759075887889-user328
Active games after storing: 314
Storing game with ID: blackjack-1759075887893-user329
Active games after storing: 315
Storing game with ID: blackjack-1759075887896-user330
Active games after storing: 316
Storing game with ID: blackjack-1759075887901-user331
Active games after storing: 317
Storing game with ID: blackjack-1759075887904-user332
Active games after storing: 318
Storing game with ID: blackjack-1759075887908-user333
Active games after storing: 319
Storing game with ID: blackjack-1759075887912-user334
Active games after storing: 320
Storing game with ID: blackjack-1759075887917-user335
Active games after storing: 321
Storing game with ID: blackjack-1759075887921-user336
Active games after storing: 322
Storing game with ID: blackjack-1759075887925-user337
Active games after storing: 323
Storing game with ID: blackjack-1759075887929-user338
Active games after storing: 324
Storing game with ID: blackjack-1759075887934-user339
Active games after storing: 325
Storing game with ID: blackjack-1759075887937-user340
Active games after storing: 326
Storing game with ID: blackjack-1759075887942-user341
Active games after storing: 327
Storing game with ID: blackjack-1759075887945-user342
Active games after storing: 328
Storing game with ID: blackjack-1759075887951-user343
Active games after storing: 329
Storing game with ID: blackjack-1759075887955-user344
Active games after storing: 330
Storing game with ID: blackjack-1759075887958-user345
Active games after storing: 331
Storing game with ID: blackjack-1759075887962-user346
Active games after storing: 332
Storing game with ID: blackjack-1759075887966-user347
Active games after storing: 333
Storing game with ID: blackjack-1759075887970-user348
Active games after storing: 334
Storing game with ID: blackjack-1759075887973-user349
Active games after storing: 335
Storing game with ID: blackjack-1759075887976-user350
Active games after storing: 336
Storing game with ID: blackjack-1759075887980-user351
Active games after storing: 337
Storing game with ID: blackjack-1759075887986-user352
Active games after storing: 338
Storing game with ID: blackjack-1759075887989-user353
Active games after storing: 339
Storing game with ID: blackjack-1759075887993-user354
Active games after storing: 340
Storing game with ID: blackjack-1759075887999-user355
Active games after storing: 341
Storing game with ID: blackjack-1759075888003-user356
Active games after storing: 342
Storing game with ID: blackjack-1759075888007-user357
Active games after storing: 343
Storing game with ID: blackjack-1759075888012-user358
Active games after storing: 344
Storing game with ID: blackjack-1759075888016-user359
Active games after storing: 345
Storing game with ID: blackjack-1759075888021-user360
Active games after storing: 346
Storing game with ID: blackjack-1759075888025-user361
Active games after storing: 347
Storing game with ID: blackjack-1759075888029-user362
Active games after storing: 348
Storing game with ID: blackjack-1759075888033-user363
Active games after storing: 349
Storing game with ID: blackjack-1759075888039-user364
Active games after storing: 350
Storing game with ID: blackjack-1759075888043-user365
Active games after storing: 351
Storing game with ID: blackjack-1759075888047-user366
Active games after storing: 352
Storing game with ID: blackjack-1759075888051-user367
Active games after storing: 353
Storing game with ID: blackjack-1759075888056-user368
Active games after storing: 354
Storing game with ID: blackjack-1759075888061-user369
Active games after storing: 355
Storing game with ID: blackjack-1759075888065-user370
Active games after storing: 356
Storing game with ID: blackjack-1759075888069-user371
Active games after storing: 357
Storing game with ID: blackjack-1759075888073-user372
Active games after storing: 358
Storing game with ID: blackjack-1759075888078-user373
Active games after storing: 359
Storing game with ID: blackjack-1759075888083-user374
Active games after storing: 360
Storing game with ID: blackjack-1759075888087-user375
Active games after storing: 361
Storing game with ID: blackjack-1759075888093-user376
Active games after storing: 362
Storing game with ID: blackjack-1759075888097-user377
Active games after storing: 363
Storing game with ID: blackjack-1759075888101-user378
Active games after storing: 364
Storing game with ID: blackjack-1759075888106-user379
Active games after storing: 365
Storing game with ID: blackjack-1759075888112-user380
Active games after storing: 366
Storing game with ID: blackjack-1759075888116-user381
Active games after storing: 367
Storing game with ID: blackjack-1759075888121-user382
Active games after storing: 368
Storing game with ID: blackjack-1759075888124-user383
Active games after storing: 369
Storing game with ID: blackjack-1759075888130-user384
Active games after storing: 370
Storing game with ID: blackjack-1759075888135-user385
Active games after storing: 371
Storing game with ID: blackjack-1759075888139-user386
Active games after storing: 372
Storing game with ID: blackjack-1759075888143-user387
Active games after storing: 373
Storing game with ID: blackjack-1759075888148-user388
Active games after storing: 374
Storing game with ID: blackjack-1759075888153-user389
Active games after storing: 375
Storing game with ID: blackjack-1759075888158-user391
Active games after storing: 376
Storing game with ID: blackjack-1759075888162-user392
Active games after storing: 377
Storing game with ID: blackjack-1759075888168-user393
Active games after storing: 378
Storing game with ID: blackjack-1759075888172-user394
Active games after storing: 379
Storing game with ID: blackjack-1759075888177-user395
Active games after storing: 380
Storing game with ID: blackjack-1759075888181-user396
Active games after storing: 381
Storing game with ID: blackjack-1759075888186-user397
Active games after storing: 382
Storing game with ID: blackjack-1759075888190-user398
Active games after storing: 383
Storing game with ID: blackjack-1759075888195-user399
Active games after storing: 384
Storing game with ID: blackjack-1759075888200-user400
Active games after storing: 385
Storing game with ID: blackjack-1759075888206-user401
Active games after storing: 386
Storing game with ID: blackjack-1759075888210-user402
Active games after storing: 387
Storing game with ID: blackjack-1759075888215-user403
Active games after storing: 388
Storing game with ID: blackjack-1759075888219-user404
Active games after storing: 389
Storing game with ID: blackjack-1759075888225-user405
Active games after storing: 390
Storing game with ID: blackjack-1759075888229-user406
Active games after storing: 391
Storing game with ID: blackjack-1759075888233-user407
Active games after storing: 392
Storing game with ID: blackjack-1759075888238-user408
Active games after storing: 393
Storing game with ID: blackjack-1759075888244-user409
Active games after storing: 394
Storing game with ID: blackjack-1759075888248-user410
Active games after storing: 395
Storing game with ID: blackjack-1759075888252-user411
Active games after storing: 396
Storing game with ID: blackjack-1759075888257-user412
Active games after storing: 397
Storing game with ID: blackjack-1759075888262-user413
Active games after storing: 398
Storing game with ID: blackjack-1759075888266-user414
Active games after storing: 399
Storing game with ID: blackjack-1759075888271-user415
Active games after storing: 400
Storing game with ID: blackjack-1759075888275-user416
Active games after storing: 401
Storing game with ID: blackjack-1759075888281-user417
Active games after storing: 402
Storing game with ID: blackjack-1759075888286-user418
Active games after storing: 403
Storing game with ID: blackjack-1759075888290-user419
Active games after storing: 404
Storing game with ID: blackjack-1759075888296-user420
Active games after storing: 405
Storing game with ID: blackjack-1759075888301-user421
Active games after storing: 406
Storing game with ID: blackjack-1759075888306-user422
Active games after storing: 407
Storing game with ID: blackjack-1759075888310-user423
Active games after storing: 408
Storing game with ID: blackjack-1759075888316-user424
Active games after storing: 409
Storing game with ID: blackjack-1759075888322-user425
Active games after storing: 410
Storing game with ID: blackjack-1759075888327-user426
Active games after storing: 411
Storing game with ID: blackjack-1759075888332-user427
Active games after storing: 412
Storing game with ID: blackjack-1759075888337-user428
Active games after storing: 413
Storing game with ID: blackjack-1759075888342-user429
Active games after storing: 414
Storing game with ID: blackjack-1759075888347-user430
Active games after storing: 415
Storing game with ID: blackjack-1759075888351-user431
Active games after storing: 416
Storing game with ID: blackjack-1759075888357-user432
Active games after storing: 417
Storing game with ID: blackjack-1759075888362-user433
Active games after storing: 418
Storing game with ID: blackjack-1759075888366-user434
Active games after storing: 419
Storing game with ID: blackjack-1759075888371-user435
Active games after storing: 420
Storing game with ID: blackjack-1759075888377-user436
Active games after storing: 421
Storing game with ID: blackjack-1759075888381-user437
Active games after storing: 422
Storing game with ID: blackjack-1759075888386-user438
Active games after storing: 423
Storing game with ID: blackjack-1759075888391-user439
Active games after storing: 424
Storing game with ID: blackjack-1759075888396-user440
Active games after storing: 425
Storing game with ID: blackjack-1759075888401-user441
Active games after storing: 426
Storing game with ID: blackjack-1759075888405-user442
Active games after storing: 427
Storing game with ID: blackjack-1759075888410-user443
Active games after storing: 428
Storing game with ID: blackjack-1759075888416-user444
Active games after storing: 429
Storing game with ID: blackjack-1759075888422-user445
Active games after storing: 430
Storing game with ID: blackjack-1759075888427-user446
Active games after storing: 431
Storing game with ID: blackjack-1759075888433-user447
Active games after storing: 432
Storing game with ID: blackjack-1759075888438-user448
Active games after storing: 433
Storing game with ID: blackjack-1759075888442-user449
Active games after storing: 434
Storing game with ID: blackjack-1759075888448-user450
Active games after storing: 435
Storing game with ID: blackjack-1759075888453-user451
Active games after storing: 436
Storing game with ID: blackjack-1759075888458-user452
Active games after storing: 437
Storing game with ID: blackjack-1759075888464-user454
Active games after storing: 438
Storing game with ID: blackjack-1759075888468-user455
Active games after storing: 439
Storing game with ID: blackjack-1759075888474-user456
Active games after storing: 440
Storing game with ID: blackjack-1759075888479-user457
Active games after storing: 441
Storing game with ID: blackjack-1759075888485-user458
Active games after storing: 442
Storing game with ID: blackjack-1759075888489-user459
Active games after storing: 443
Storing game with ID: blackjack-1759075888495-user460
Active games after storing: 444
Storing game with ID: blackjack-1759075888501-user461
Active games after storing: 445
Storing game with ID: blackjack-1759075888507-user462
Active games after storing: 446
Storing game with ID: blackjack-1759075888512-user463
Active games after storing: 447
Storing game with ID: blackjack-1759075888518-user464
Active games after storing: 448
Storing game with ID: blackjack-1759075888523-user465
Active games after storing: 449
Storing game with ID: blackjack-1759075888529-user466
Active games after storing: 450
Storing game with ID: blackjack-1759075888535-user467
Active games after storing: 451
Storing game with ID: blackjack-1759075888540-user468
Active games after storing: 452
Storing game with ID: blackjack-1759075888546-user469
Active games after storing: 453
Storing game with ID: blackjack-1759075888553-user470
Active games after storing: 454
Storing game with ID: blackjack-1759075888558-user471
Active games after storing: 455
Storing game with ID: blackjack-1759075888563-user472
Active games after storing: 456
Storing game with ID: blackjack-1759075888570-user474
Active games after storing: 457
Storing game with ID: blackjack-1759075888575-user475
Active games after storing: 458
Storing game with ID: blackjack-1759075888580-user476
Active games after storing: 459
Storing game with ID: blackjack-1759075888586-user477
Active games after storing: 460
Storing game with ID: blackjack-1759075888591-user478
Active games after storing: 461
Storing game with ID: blackjack-1759075888596-user479
Active games after storing: 462
Storing game with ID: blackjack-1759075888602-user480
Active games after storing: 463
Storing game with ID: blackjack-1759075888607-user481
Active games after storing: 464
Storing game with ID: blackjack-1759075888612-user482
Active games after storing: 465
Storing game with ID: blackjack-1759075888618-user484
Active games after storing: 466
Storing game with ID: blackjack-1759075888623-user485
Active games after storing: 467
Storing game with ID: blackjack-1759075888629-user486
Active games after storing: 468
Storing game with ID: blackjack-1759075888635-user487
Active games after storing: 469
Storing game with ID: blackjack-1759075888640-user488
Active games after storing: 470
Storing game with ID: blackjack-1759075888645-user489
Active games after storing: 471
Storing game with ID: blackjack-1759075888651-user490
Active games after storing: 472
Storing game with ID: blackjack-1759075888656-user491
Active games after storing: 473
Storing game with ID: blackjack-1759075888661-user492
Active games after storing: 474
Storing game with ID: blackjack-1759075888668-user493
Active games after storing: 475
Storing game with ID: blackjack-1759075888674-user494
Active games after storing: 476
Storing game with ID: blackjack-1759075888679-user495
Active games after storing: 477
Storing game with ID: blackjack-1759075888685-user496
Active games after storing: 478
Storing game with ID: blackjack-1759075888690-user497
Active games after storing: 479
Storing game with ID: blackjack-1759075888696-user498
Active games after storing: 480
Storing game with ID: blackjack-1759075888701-user499
Active games after storing: 481
Storing game with ID: blackjack-1759075888706-user500
Active games after storing: 482
Storing game with ID: blackjack-1759075888711-user501
Active games after storing: 483
Storing game with ID: blackjack-1759075888717-user502
Active games after storing: 484
Storing game with ID: blackjack-1759075888722-user503
Active games after storing: 485
Storing game with ID: blackjack-1759075888728-user504
Active games after storing: 486
Storing game with ID: blackjack-1759075888735-user505
Active games after storing: 487
Storing game with ID: blackjack-1759075888740-user506
Active games after storing: 488
Storing game with ID: blackjack-1759075888746-user507
Active games after storing: 489
Storing game with ID: blackjack-1759075888752-user508
Active games after storing: 490
Storing game with ID: blackjack-1759075888758-user509
Active games after storing: 491
Storing game with ID: blackjack-1759075888764-user510
Active games after storing: 492
Storing game with ID: blackjack-1759075888772-user512
Active games after storing: 493
Storing game with ID: blackjack-1759075888778-user513
Active games after storing: 494
Storing game with ID: blackjack-1759075888785-user514
Active games after storing: 495
Storing game with ID: blackjack-1759075888792-user516
Active games after storing: 496
Storing game with ID: blackjack-1759075888798-user517
Active games after storing: 497
Storing game with ID: blackjack-1759075888805-user518
Active games after storing: 498
Storing game with ID: blackjack-1759075888812-user519
Active games after storing: 499
Storing game with ID: blackjack-1759075888818-user520
Active games after storing: 500
Storing game with ID: blackjack-1759075888824-user521
Active games after storing: 501
Storing game with ID: blackjack-1759075888831-user522
Active games after storing: 502
Storing game with ID: blackjack-1759075888837-user523
Active games after storing: 503
Storing game with ID: blackjack-1759075888843-user524
Active games after storing: 504
Storing game with ID: blackjack-1759075888850-user525
Active games after storing: 505
Storing game with ID: blackjack-1759075888857-user527
Active games after storing: 506
Storing game with ID: blackjack-1759075888864-user529
Active games after storing: 507
Storing game with ID: blackjack-1759075888870-user530
Active games after storing: 508
Storing game with ID: blackjack-1759075888876-user531
Active games after storing: 509
Storing game with ID: blackjack-1759075888883-user532
Active games after storing: 510
Storing game with ID: blackjack-1759075888889-user533
Active games after storing: 511
Storing game with ID: blackjack-1759075888895-user534
Active games after storing: 512
Storing game with ID: blackjack-1759075888900-user535
Active games after storing: 513
Storing game with ID: blackjack-1759075888907-user536
Active games after storing: 514
Storing game with ID: blackjack-1759075888913-user537
Active games after storing: 515
Storing game with ID: blackjack-1759075888918-user538
Active games after storing: 516
Storing game with ID: blackjack-1759075888926-user539
Active games after storing: 517
Storing game with ID: blackjack-1759075888931-user540
Active games after storing: 518
Storing game with ID: blackjack-1759075888937-user541
Active games after storing: 519
Storing game with ID: blackjack-1759075888944-user542
Active games after storing: 520
Storing game with ID: blackjack-1759075888951-user543
Active games after storing: 521
Storing game with ID: blackjack-1759075888958-user544
Active games after storing: 522
Storing game with ID: blackjack-1759075888965-user545
Active games after storing: 523
Storing game with ID: blackjack-1759075888971-user547
Active games after storing: 524
Storing game with ID: blackjack-1759075888977-user548
Active games after storing: 525
Storing game with ID: blackjack-1759075888984-user549
Active games after storing: 526
Storing game with ID: blackjack-1759075888990-user550
Active games after storing: 527
Storing game with ID: blackjack-1759075888998-user552
Active games after storing: 528
Storing game with ID: blackjack-1759075889006-user553
Active games after storing: 529
Storing game with ID: blackjack-1759075889012-user554
Active games after storing: 530
Storing game with ID: blackjack-1759075889017-user555
Active games after storing: 531
Storing game with ID: blackjack-1759075889024-user556
Active games after storing: 532
Storing game with ID: blackjack-1759075889030-user557
Active games after storing: 533
Storing game with ID: blackjack-1759075889036-user558
Active games after storing: 534
Storing game with ID: blackjack-1759075889045-user559
Active games after storing: 535
Storing game with ID: blackjack-1759075889051-user560
Active games after storing: 536
Storing game with ID: blackjack-1759075889057-user561
Active games after storing: 537
Storing game with ID: blackjack-1759075889063-user562
Active games after storing: 538
Storing game with ID: blackjack-1759075889069-user563
Active games after storing: 539
Storing game with ID: blackjack-1759075889076-user564
Active games after storing: 540
Storing game with ID: blackjack-1759075889083-user565
Active games after storing: 541
Storing game with ID: blackjack-1759075889090-user566
Active games after storing: 542
Storing game with ID: blackjack-1759075889096-user567
Active games after storing: 543
Storing game with ID: blackjack-1759075889103-user568
Active games after storing: 544
Storing game with ID: blackjack-1759075889110-user569
Active games after storing: 545
Storing game with ID: blackjack-1759075889117-user570
Active games after storing: 546
Storing game with ID: blackjack-1759075889125-user571
Active games after storing: 547
Storing game with ID: blackjack-1759075889130-user572
Active games after storing: 548
Storing game with ID: blackjack-1759075889136-user573
Active games after storing: 549
Storing game with ID: blackjack-1759075889144-user574
Active games after storing: 550
Storing game with ID: blackjack-1759075889151-user575
Active games after storing: 551
Storing game with ID: blackjack-1759075889158-user576
Active games after storing: 552
Storing game with ID: blackjack-1759075889167-user577
Active games after storing: 553
Storing game with ID: blackjack-1759075889173-user578
Active games after storing: 554
Storing game with ID: blackjack-1759075889181-user579
Active games after storing: 555
Storing game with ID: blackjack-1759075889187-user580
Active games after storing: 556
Storing game with ID: blackjack-1759075889193-user581
Active games after storing: 557
Storing game with ID: blackjack-1759075889202-user583
Active games after storing: 558
Storing game with ID: blackjack-1759075889208-user584
Active games after storing: 559
Storing game with ID: blackjack-1759075889214-user585
Active games after storing: 560
Storing game with ID: blackjack-1759075889220-user586
Active games after storing: 561
Storing game with ID: blackjack-1759075889227-user587
Active games after storing: 562
Storing game with ID: blackjack-1759075889234-user588
Active games after storing: 563
Storing game with ID: blackjack-1759075889243-user589
Active games after storing: 564
Storing game with ID: blackjack-1759075889250-user590
Active games after storing: 565
Storing game with ID: blackjack-1759075889257-user591
Active games after storing: 566
Storing game with ID: blackjack-1759075889263-user592
Active games after storing: 567
Storing game with ID: blackjack-1759075889269-user593
Active games after storing: 568
Storing game with ID: blackjack-1759075889277-user594
Active games after storing: 569
Storing game with ID: blackjack-1759075889284-user595
Active games after storing: 570
Storing game with ID: blackjack-1759075889290-user596
Active games after storing: 571
Storing game with ID: blackjack-1759075889298-user597
Active games after storing: 572
Storing game with ID: blackjack-1759075889304-user598
Active games after storing: 573
Storing game with ID: blackjack-1759075889310-user599
Active games after storing: 574
Storing game with ID: blackjack-1759075889318-user600
Active games after storing: 575
Storing game with ID: blackjack-1759075889325-user601
Active games after storing: 576
Storing game with ID: blackjack-1759075889332-user602
Active games after storing: 577
Storing game with ID: blackjack-1759075889339-user603
Active games after storing: 578
Storing game with ID: blackjack-1759075889345-user604
Active games after storing: 579
Storing game with ID: blackjack-1759075889351-user605
Active games after storing: 580
Storing game with ID: blackjack-1759075889359-user606
Active games after storing: 581
Storing game with ID: blackjack-1759075889366-user607
Active games after storing: 582
Storing game with ID: blackjack-1759075889372-user608
Active games after storing: 583
Storing game with ID: blackjack-1759075889380-user609
Active games after storing: 584
Storing game with ID: blackjack-1759075889386-user610
Active games after storing: 585
Storing game with ID: blackjack-1759075889394-user611
Active games after storing: 586
Storing game with ID: blackjack-1759075889402-user613
Active games after storing: 587
Storing game with ID: blackjack-1759075889409-user614
Active games after storing: 588
Storing game with ID: blackjack-1759075889415-user615
Active games after storing: 589
Storing game with ID: blackjack-1759075889423-user616
Active games after storing: 590
Storing game with ID: blackjack-1759075889431-user617
Active games after storing: 591
Storing game with ID: blackjack-1759075889438-user618
Active games after storing: 592
Storing game with ID: blackjack-1759075889445-user619
Active games after storing: 593
Storing game with ID: blackjack-1759075889452-user620
Active games after storing: 594
Storing game with ID: blackjack-1759075889459-user621
Active games after storing: 595
Storing game with ID: blackjack-1759075889466-user622
Active games after storing: 596
Storing game with ID: blackjack-1759075889473-user623
Active games after storing: 597
Storing game with ID: blackjack-1759075889482-user625
Active games after storing: 598
Storing game with ID: blackjack-1759075889488-user626
Active games after storing: 599
Storing game with ID: blackjack-1759075889495-user627
Active games after storing: 600
Storing game with ID: blackjack-1759075889503-user628
Active games after storing: 601
Storing game with ID: blackjack-1759075889509-user629
Active games after storing: 602
Storing game with ID: blackjack-1759075889516-user630
Active games after storing: 603
Storing game with ID: blackjack-1759075889524-user631
Active games after storing: 604
Storing game with ID: blackjack-1759075889531-user632
Active games after storing: 605
Storing game with ID: blackjack-1759075889538-user633
Active games after storing: 606
Storing game with ID: blackjack-1759075889547-user634
Active games after storing: 607
Storing game with ID: blackjack-1759075889553-user636
Active games after storing: 608
Storing game with ID: blackjack-1759075889561-user637
Active games after storing: 609
Storing game with ID: blackjack-1759075889569-user638
Active games after storing: 610
Storing game with ID: blackjack-1759075889577-user639
Active games after storing: 611
Storing game with ID: blackjack-1759075889584-user640
Active games after storing: 612
Storing game with ID: blackjack-1759075889592-user641
Active games after storing: 613
Storing game with ID: blackjack-1759075889599-user642
Active games after storing: 614
Storing game with ID: blackjack-1759075889607-user643
Active games after storing: 615
Storing game with ID: blackjack-1759075889613-user644
Active games after storing: 616
Storing game with ID: blackjack-1759075889620-user645
Active games after storing: 617
Storing game with ID: blackjack-1759075889628-user646
Active games after storing: 618
Storing game with ID: blackjack-1759075889637-user647
Active games after storing: 619
Storing game with ID: blackjack-1759075889647-user648
Active games after storing: 620
Storing game with ID: blackjack-1759075889653-user649
Active games after storing: 621
Storing game with ID: blackjack-1759075889661-user650
Active games after storing: 622
Storing game with ID: blackjack-1759075889668-user651
Active games after storing: 623
Storing game with ID: blackjack-1759075889675-user652
Active games after storing: 624
Storing game with ID: blackjack-1759075889683-user653
Active games after storing: 625
Storing game with ID: blackjack-1759075889690-user654
Active games after storing: 626
Storing game with ID: blackjack-1759075889697-user655
Active games after storing: 627
Storing game with ID: blackjack-1759075889704-user656
Active games after storing: 628
Storing game with ID: blackjack-1759075889711-user657
Active games after storing: 629
Storing game with ID: blackjack-1759075889718-user658
Active games after storing: 630
Storing game with ID: blackjack-1759075889727-user659
Active games after storing: 631
Storing game with ID: blackjack-1759075889734-user660
Active games after storing: 632
Storing game with ID: blackjack-1759075889742-user661
Active games after storing: 633
Storing game with ID: blackjack-1759075889749-user662
Active games after storing: 634
Storing game with ID: blackjack-1759075889756-user663
Active games after storing: 635
Storing game with ID: blackjack-1759075889765-user664
Active games after storing: 636
Storing game with ID: blackjack-1759075889771-user665
Active games after storing: 637
Storing game with ID: blackjack-1759075889778-user666
Active games after storing: 638
Storing game with ID: blackjack-1759075889786-user667
Active games after storing: 639
Storing game with ID: blackjack-1759075889793-user668
Active games after storing: 640
Storing game with ID: blackjack-1759075889801-user669
Active games after storing: 641
Storing game with ID: blackjack-1759075889809-user670
Active games after storing: 642
Storing game with ID: blackjack-1759075889817-user671
Active games after storing: 643
Storing game with ID: blackjack-1759075889825-user672
Active games after storing: 644
Storing game with ID: blackjack-1759075889834-user674
Active games after storing: 645
Storing game with ID: blackjack-1759075889842-user675
Active games after storing: 646
Storing game with ID: blackjack-1759075889848-user676
Active games after storing: 647
Storing game with ID: blackjack-1759075889855-user677
Active games after storing: 648
Storing game with ID: blackjack-1759075889864-user678
Active games after storing: 649
Storing game with ID: blackjack-1759075889871-user679
Active games after storing: 650
Storing game with ID: blackjack-1759075889881-user681
Active games after storing: 651
Storing game with ID: blackjack-1759075889888-user682
Active games after storing: 652
Storing game with ID: blackjack-1759075889898-user683
Active games after storing: 653
Storing game with ID: blackjack-1759075889905-user684
Active games after storing: 654
Storing game with ID: blackjack-1759075889912-user685
Active games after storing: 655
Storing game with ID: blackjack-1759075889920-user686
Active games after storing: 656
Storing game with ID: blackjack-1759075889930-user687
Active games after storing: 657
Storing game with ID: blackjack-1759075889936-user688
Active games after storing: 658
Storing game with ID: blackjack-1759075889944-user689
Active games after storing: 659
Storing game with ID: blackjack-1759075889951-user690
Active games after storing: 660
Storing game with ID: blackjack-1759075889960-user691
Active games after storing: 661
Storing game with ID: blackjack-1759075889969-user692
Active games after storing: 662
Storing game with ID: blackjack-1759075889976-user693
Active games after storing: 663
Storing game with ID: blackjack-1759075889985-user694
Active games after storing: 664
Storing game with ID: blackjack-1759075889992-user695
Active games after storing: 665
Storing game with ID: blackjack-1759075890002-user696
Active games after storing: 666
Storing game with ID: blackjack-1759075890009-user697
Active games after storing: 667
Storing game with ID: blackjack-1759075890017-user698
Active games after storing: 668
Storing game with ID: blackjack-1759075890025-user699
Active games after storing: 669
Storing game with ID: blackjack-1759075890034-user700
Active games after storing: 670
Storing game with ID: blackjack-1759075890041-user701
Active games after storing: 671
Storing game with ID: blackjack-1759075890050-user702
Active games after storing: 672
Storing game with ID: blackjack-1759075890057-user703
Active games after storing: 673
Storing game with ID: blackjack-1759075890066-user704
Active games after storing: 674
Storing game with ID: blackjack-1759075890073-user705
Active games after storing: 675
Storing game with ID: blackjack-1759075890082-user706
Active games after storing: 676
Storing game with ID: blackjack-1759075890090-user707
Active games after storing: 677
Storing game with ID: blackjack-1759075890099-user708
Active games after storing: 678
Storing game with ID: blackjack-1759075890109-user709
Active games after storing: 679
Storing game with ID: blackjack-1759075890117-user710
Active games after storing: 680
Storing game with ID: blackjack-1759075890125-user711
Active games after storing: 681
Storing game with ID: blackjack-1759075890134-user712
Active games after storing: 682
Storing game with ID: blackjack-1759075890146-user713
Active games after storing: 683
Storing game with ID: blackjack-1759075890154-user714
Active games after storing: 684
Storing game with ID: blackjack-1759075890162-user715
Active games after storing: 685
Storing game with ID: blackjack-1759075890172-user716
Active games after storing: 686
Storing game with ID: blackjack-1759075890179-user717
Active games after storing: 687
Storing game with ID: blackjack-1759075890187-user718
Active games after storing: 688
Storing game with ID: blackjack-1759075890196-user719
Active games after storing: 689
Storing game with ID: blackjack-1759075890205-user720
Active games after storing: 690
Storing game with ID: blackjack-1759075890213-user721
Active games after storing: 691
Storing game with ID: blackjack-1759075890222-user722
Active games after storing: 692
Storing game with ID: blackjack-1759075890231-user723
Active games after storing: 693
Storing game with ID: blackjack-1759075890240-user724
Active games after storing: 694
Storing game with ID: blackjack-1759075890248-user725
Active games after storing: 695
Storing game with ID: blackjack-1759075890256-user726
Active games after storing: 696
Storing game with ID: blackjack-1759075890264-user727
Active games after storing: 697
Storing game with ID: blackjack-1759075890274-user728
Active games after storing: 698
Storing game with ID: blackjack-1759075890281-user729
Active games after storing: 699
Storing game with ID: blackjack-1759075890290-user730
Active games after storing: 700
Storing game with ID: blackjack-1759075890298-user731
Active games after storing: 701
Storing game with ID: blackjack-1759075890307-user732
Active games after storing: 702
Storing game with ID: blackjack-1759075890315-user733
Active games after storing: 703
Storing game with ID: blackjack-1759075890324-user735
Active games after storing: 704
Storing game with ID: blackjack-1759075890332-user736
Active games after storing: 705
Storing game with ID: blackjack-1759075890342-user737
Active games after storing: 706
Storing game with ID: blackjack-1759075890351-user738
Active games after storing: 707
Storing game with ID: blackjack-1759075890360-user739
Active games after storing: 708
Storing game with ID: blackjack-1759075890368-user740
Active games after storing: 709
Storing game with ID: blackjack-1759075890378-user741
Active games after storing: 710
Storing game with ID: blackjack-1759075890386-user742
Active games after storing: 711
Storing game with ID: blackjack-1759075890396-user743
Active games after storing: 712
Storing game with ID: blackjack-1759075890405-user744
Active games after storing: 713
Storing game with ID: blackjack-1759075890415-user745
Active games after storing: 714
Storing game with ID: blackjack-1759075890425-user746
Active games after storing: 715
Storing game with ID: blackjack-1759075890434-user747
Active games after storing: 716
Storing game with ID: blackjack-1759075890442-user748
Active games after storing: 717
Storing game with ID: blackjack-1759075890453-user749
Active games after storing: 718
Storing game with ID: blackjack-1759075890461-user750
Active games after storing: 719
Storing game with ID: blackjack-1759075890470-user751
Active games after storing: 720
Storing game with ID: blackjack-1759075890479-user752
Active games after storing: 721
Storing game with ID: blackjack-1759075890489-user753
Active games after storing: 722
Storing game with ID: blackjack-1759075890498-user754
Active games after storing: 723
Storing game with ID: blackjack-1759075890508-user755
Active games after storing: 724
Storing game with ID: blackjack-1759075890517-user756
Active games after storing: 725
Storing game with ID: blackjack-1759075890526-user757
Active games after storing: 726
Storing game with ID: blackjack-1759075890535-user758
Active games after storing: 727
Storing game with ID: blackjack-1759075890545-user759
Active games after storing: 728
Storing game with ID: blackjack-1759075890555-user760
Active games after storing: 729
Storing game with ID: blackjack-1759075890565-user761
Active games after storing: 730
Storing game with ID: blackjack-1759075890574-user762
Active games after storing: 731
Storing game with ID: blackjack-1759075890584-user763
Active games after storing: 732
Storing game with ID: blackjack-1759075890593-user764
Active games after storing: 733
Storing game with ID: blackjack-1759075890603-user765
Active games after storing: 734
Storing game with ID: blackjack-1759075890611-user766
Active games after storing: 735
Storing game with ID: blackjack-1759075890621-user767
Active games after storing: 736
Storing game with ID: blackjack-1759075890629-user768
Active games after storing: 737
Storing game with ID: blackjack-1759075890640-user769
Active games after storing: 738
Storing game with ID: blackjack-1759075890648-user770
Active games after storing: 739
Storing game with ID: blackjack-1759075890657-user771
Active games after storing: 740
Storing game with ID: blackjack-1759075890667-user772
Active games after storing: 741
Storing game with ID: blackjack-1759075890677-user773
Active games after storing: 742
Storing game with ID: blackjack-1759075890686-user774
Active games after storing: 743
Storing game with ID: blackjack-1759075890696-user775
Active games after storing: 744
Storing game with ID: blackjack-1759075890705-user776
Active games after storing: 745
Storing game with ID: blackjack-1759075890716-user777
Active games after storing: 746
Storing game with ID: blackjack-1759075890725-user778
Active games after storing: 747
Storing game with ID: blackjack-1759075890735-user779
Active games after storing: 748
Storing game with ID: blackjack-1759075890744-user780
Active games after storing: 749
Storing game with ID: blackjack-1759075890754-user781
Active games after storing: 750
Storing game with ID: blackjack-1759075890765-user783
Active games after storing: 751
Storing game with ID: blackjack-1759075890775-user785
Active games after storing: 752
Storing game with ID: blackjack-1759075890785-user787
Active games after storing: 753
Storing game with ID: blackjack-1759075890794-user788
Active games after storing: 754
Storing game with ID: blackjack-1759075890803-user789
Active games after storing: 755
Storing game with ID: blackjack-1759075890813-user790
Active games after storing: 756
Storing game with ID: blackjack-1759075890822-user791
Active games after storing: 757
Storing game with ID: blackjack-1759075890833-user792
Active games after storing: 758
Storing game with ID: blackjack-1759075890842-user793
Active games after storing: 759
Storing game with ID: blackjack-1759075890851-user794
Active games after storing: 760
Storing game with ID: blackjack-1759075890861-user795
Active games after storing: 761
Storing game with ID: blackjack-1759075890871-user796
Active games after storing: 762
Storing game with ID: blackjack-1759075890880-user797
Active games after storing: 763
Storing game with ID: blackjack-1759075890890-user798
Active games after storing: 764
Storing game with ID: blackjack-1759075890900-user799
Active games after storing: 765
Storing game with ID: blackjack-1759075890911-user800
Active games after storing: 766
Storing game with ID: blackjack-1759075890920-user801
Active games after storing: 767
Storing game with ID: blackjack-1759075890930-user802
Active games after storing: 768
Storing game with ID: blackjack-1759075890938-user803
Active games after storing: 769
Storing game with ID: blackjack-1759075890949-user806
Active games after storing: 770
Storing game with ID: blackjack-1759075890961-user808
Active games after storing: 771
Storing game with ID: blackjack-1759075890970-user809
Active games after storing: 772
Storing game with ID: blackjack-1759075890980-user810
Active games after storing: 773
Storing game with ID: blackjack-1759075890989-user811
Active games after storing: 774
Storing game with ID: blackjack-1759075890999-user812
Active games after storing: 775
Storing game with ID: blackjack-1759075891010-user813
Active games after storing: 776
Storing game with ID: blackjack-1759075891019-user814
Active games after storing: 777
Storing game with ID: blackjack-1759075891029-user815
Active games after storing: 778
Storing game with ID: blackjack-1759075891039-user816
Active games after storing: 779
Storing game with ID: blackjack-1759075891050-user817
Active games after storing: 780
Storing game with ID: blackjack-1759075891059-user818
Active games after storing: 781
Storing game with ID: blackjack-1759075891068-user819
Active games after storing: 782
Storing game with ID: blackjack-1759075891078-user820
Active games after storing: 783
Storing game with ID: blackjack-1759075891089-user821
Active games after storing: 784
Storing game with ID: blackjack-1759075891098-user822
Active games after storing: 785
Storing game with ID: blackjack-1759075891108-user823
Active games after storing: 786
Storing game with ID: blackjack-1759075891116-user824
Active games after storing: 787
Storing game with ID: blackjack-1759075891127-user825
Active games after storing: 788
Storing game with ID: blackjack-1759075891135-user826
Active games after storing: 789
Storing game with ID: blackjack-1759075891145-user827
Active games after storing: 790
Storing game with ID: blackjack-1759075891154-user828
Active games after storing: 791
Storing game with ID: blackjack-1759075891163-user829
Active games after storing: 792
Storing game with ID: blackjack-1759075891172-user830
Active games after storing: 793
Storing game with ID: blackjack-1759075891182-user831
Active games after storing: 794
Storing game with ID: blackjack-1759075891191-user832
Active games after storing: 795
Storing game with ID: blackjack-1759075891200-user833
Active games after storing: 796
Storing game with ID: blackjack-1759075891208-user834
Active games after storing: 797
Storing game with ID: blackjack-1759075891218-user835
Active games after storing: 798
Storing game with ID: blackjack-1759075891227-user836
Active games after storing: 799
Storing game with ID: blackjack-1759075891237-user837
Active games after storing: 800
Storing game with ID: blackjack-1759075891245-user838
Active games after storing: 801
Storing game with ID: blackjack-1759075891254-user839
Active games after storing: 802
Storing game with ID: blackjack-1759075891262-user840
Active games after storing: 803
Storing game with ID: blackjack-1759075891272-user841
Active games after storing: 804
Storing game with ID: blackjack-1759075891280-user842
Active games after storing: 805
Storing game with ID: blackjack-1759075891289-user843
Active games after storing: 806
Storing game with ID: blackjack-1759075891298-user844
Active games after storing: 807
Storing game with ID: blackjack-1759075891308-user845
Active games after storing: 808
Storing game with ID: blackjack-1759075891316-user846
Active games after storing: 809
Storing game with ID: blackjack-1759075891326-user847
Active games after storing: 810
Storing game with ID: blackjack-1759075891335-user848
Active games after storing: 811
Storing game with ID: blackjack-1759075891344-user849
Active games after storing: 812
Storing game with ID: blackjack-1759075891353-user850
Active games after storing: 813
Storing game with ID: blackjack-1759075891362-user851
Active games after storing: 814
Storing game with ID: blackjack-1759075891371-user852
Active games after storing: 815
Storing game with ID: blackjack-1759075891380-user853
Active games after storing: 816
Storing game with ID: blackjack-1759075891389-user854
Active games after storing: 817
Storing game with ID: blackjack-1759075891398-user855
Active games after storing: 818
Storing game with ID: blackjack-1759075891406-user856
Active games after storing: 819
Storing game with ID: blackjack-1759075891416-user857
Active games after storing: 820
Storing game with ID: blackjack-1759075891426-user858
Active games after storing: 821
Storing game with ID: blackjack-1759075891435-user859
Active games after storing: 822
Storing game with ID: blackjack-1759075891444-user860
Active games after storing: 823
Storing game with ID: blackjack-1759075891453-user861
Active games after storing: 824
Storing game with ID: blackjack-1759075891462-user862
Active games after storing: 825
Storing game with ID: blackjack-1759075891472-user863
Active games after storing: 826
Storing game with ID: blackjack-1759075891481-user864
Active games after storing: 827
Storing game with ID: blackjack-1759075891491-user865
Active games after storing: 828
Storing game with ID: blackjack-1759075891500-user866
Active games after storing: 829
Storing game with ID: blackjack-1759075891510-user867
Active games after storing: 830
Storing game with ID: blackjack-1759075891518-user868
Active games after storing: 831
Storing game with ID: blackjack-1759075891529-user870
Active games after storing: 832
Storing game with ID: blackjack-1759075891538-user871
Active games after storing: 833
Storing game with ID: blackjack-1759075891547-user872
Active games after storing: 834
Storing game with ID: blackjack-1759075891556-user873
Active games after storing: 835
Storing game with ID: blackjack-1759075891566-user874
Active games after storing: 836
Storing game with ID: blackjack-1759075891575-user875
Active games after storing: 837
Storing game with ID: blackjack-1759075891585-user876
Active games after storing: 838
Storing game with ID: blackjack-1759075891593-user877
Active games after storing: 839
Storing game with ID: blackjack-1759075891603-user878
Active games after storing: 840
Storing game with ID: blackjack-1759075891612-user879
Active games after storing: 841
Storing game with ID: blackjack-1759075891622-user880
Active games after storing: 842
Storing game with ID: blackjack-1759075891632-user881
Active games after storing: 843
Storing game with ID: blackjack-1759075891642-user882
Active games after storing: 844
Storing game with ID: blackjack-1759075891650-user883
Active games after storing: 845
Storing game with ID: blackjack-1759075891660-user884
Active games after storing: 846
Storing game with ID: blackjack-1759075891669-user885
Active games after storing: 847
Storing game with ID: blackjack-1759075891679-user886
Active games after storing: 848
Storing game with ID: blackjack-1759075891688-user887
Active games after storing: 849
Storing game with ID: blackjack-1759075891698-user888
Active games after storing: 850
Storing game with ID: blackjack-1759075891707-user889
Active games after storing: 851
Storing game with ID: blackjack-1759075891717-user890
Active games after storing: 852
Storing game with ID: blackjack-1759075891728-user892
Active games after storing: 853
Storing game with ID: blackjack-1759075891737-user893
Active games after storing: 854
Storing game with ID: blackjack-1759075891746-user894
Active games after storing: 855
Storing game with ID: blackjack-1759075891757-user895
Active games after storing: 856
Storing game with ID: blackjack-1759075891766-user896
Active games after storing: 857
Storing game with ID: blackjack-1759075891775-user897
Active games after storing: 858
Storing game with ID: blackjack-1759075891784-user898
Active games after storing: 859
Storing game with ID: blackjack-1759075891795-user899
Active games after storing: 860
Storing game with ID: blackjack-1759075891803-user900
Active games after storing: 861
Storing game with ID: blackjack-1759075891814-user901
Active games after storing: 862
Storing game with ID: blackjack-1759075891822-user902
Active games after storing: 863
Storing game with ID: blackjack-1759075891833-user903
Active games after storing: 864
Storing game with ID: blackjack-1759075891843-user904
Active games after storing: 865
Storing game with ID: blackjack-1759075891853-user905
Active games after storing: 866
Storing game with ID: blackjack-1759075891863-user906
Active games after storing: 867
Storing game with ID: blackjack-1759075891872-user907
Active games after storing: 868
Storing game with ID: blackjack-1759075891882-user908
Active games after storing: 869
Storing game with ID: blackjack-1759075891892-user909
Active games after storing: 870
Storing game with ID: blackjack-1759075891901-user910
Active games after storing: 871
Storing game with ID: blackjack-1759075891912-user911
Active games after storing: 872
Storing game with ID: blackjack-1759075891921-user912
Active games after storing: 873
Storing game with ID: blackjack-1759075891933-user913
Active games after storing: 874
Storing game with ID: blackjack-1759075891942-user914
Active games after storing: 875
Storing game with ID: blackjack-1759075891954-user915
Active games after storing: 876
Storing game with ID: blackjack-1759075891963-user916
Active games after storing: 877
Storing game with ID: blackjack-1759075891973-user917
Active games after storing: 878
Storing game with ID: blackjack-1759075891984-user918
Active games after storing: 879
Storing game with ID: blackjack-1759075891994-user919
Active games after storing: 880
Storing game with ID: blackjack-1759075892004-user920
Active games after storing: 881
Storing game with ID: blackjack-1759075892015-user921
Active games after storing: 882
Storing game with ID: blackjack-1759075892024-user922
Active games after storing: 883
Storing game with ID: blackjack-1759075892036-user923
Active games after storing: 884
Storing game with ID: blackjack-1759075892045-user924
Active games after storing: 885
Storing game with ID: blackjack-1759075892055-user925
Active games after storing: 886
Storing game with ID: blackjack-1759075892064-user926
Active games after storing: 887
Storing game with ID: blackjack-1759075892074-user927
Active games after storing: 888
Storing game with ID: blackjack-1759075892083-user928
Active games after storing: 889
Storing game with ID: blackjack-1759075892093-user929
Active games after storing: 890
Storing game with ID: blackjack-1759075892103-user930
Active games after storing: 891
Storing game with ID: blackjack-1759075892113-user931
Active games after storing: 892
Storing game with ID: blackjack-1759075892121-user932
Active games after storing: 893
Storing game with ID: blackjack-1759075892131-user933
Active games after storing: 894
Storing game with ID: blackjack-1759075892141-user934
Active games after storing: 895
Storing game with ID: blackjack-1759075892150-user935
Active games after storing: 896
Storing game with ID: blackjack-1759075892161-user936
Active games after storing: 897
Storing game with ID: blackjack-1759075892170-user937
Active games after storing: 898
Storing game with ID: blackjack-1759075892180-user938
Active games after storing: 899
Storing game with ID: blackjack-1759075892190-user939
Active games after storing: 900
Storing game with ID: blackjack-1759075892200-user940
Active games after storing: 901
Storing game with ID: blackjack-1759075892211-user941
Active games after storing: 902
Storing game with ID: blackjack-1759075892221-user942
Active games after storing: 903
Storing game with ID: blackjack-1759075892231-user943
Active games after storing: 904
Storing game with ID: blackjack-1759075892242-user945
Active games after storing: 905
Storing game with ID: blackjack-1759075892251-user946
Active games after storing: 906
Storing game with ID: blackjack-1759075892261-user947
Active games after storing: 907
Storing game with ID: blackjack-1759075892271-user948
Active games after storing: 908
Storing game with ID: blackjack-1759075892280-user949
Active games after storing: 909
Storing game with ID: blackjack-1759075892290-user950
Active games after storing: 910
Storing game with ID: blackjack-1759075892301-user951
Active games after storing: 911
Storing game with ID: blackjack-1759075892310-user952
Active games after storing: 912
Storing game with ID: blackjack-1759075892319-user953
Active games after storing: 913
Storing game with ID: blackjack-1759075892330-user954
Active games after storing: 914
Storing game with ID: blackjack-1759075892340-user955
Active games after storing: 915
Storing game with ID: blackjack-1759075892350-user956
Active games after storing: 916
Storing game with ID: blackjack-1759075892359-user957
Active games after storing: 917
Storing game with ID: blackjack-1759075892371-user958
Active games after storing: 918
Storing game with ID: blackjack-1759075892380-user959
Active games after storing: 919
Storing game with ID: blackjack-1759075892391-user960
Active games after storing: 920
Storing game with ID: blackjack-1759075892400-user961
Active games after storing: 921
Storing game with ID: blackjack-1759075892410-user962
Active games after storing: 922
Storing game with ID: blackjack-1759075892420-user963
Active games after storing: 923
Storing game with ID: blackjack-1759075892431-user964
Active games after storing: 924
Storing game with ID: blackjack-1759075892440-user965
Active games after storing: 925
Storing game with ID: blackjack-1759075892451-user966
Active games after storing: 926
Storing game with ID: blackjack-1759075892461-user967
Active games after storing: 927
Storing game with ID: blackjack-1759075892472-user968
Active games after storing: 928
Storing game with ID: blackjack-1759075892482-user969
Active games after storing: 929
Storing game with ID: blackjack-1759075892492-user970
Active games after storing: 930
Storing game with ID: blackjack-1759075892502-user971
Active games after storing: 931
Storing game with ID: blackjack-1759075892512-user972
Active games after storing: 932
Storing game with ID: blackjack-1759075892522-user973
Active games after storing: 933
Storing game with ID: blackjack-1759075892532-user974
Active games after storing: 934
Storing game with ID: blackjack-1759075892541-user975
Active games after storing: 935
Storing game with ID: blackjack-1759075892552-user976
Active games after storing: 936
Storing game with ID: blackjack-1759075892564-user977
Active games after storing: 937
Storing game with ID: blackjack-1759075892574-user978
Active games after storing: 938
Storing game with ID: blackjack-1759075892585-user980
Active games after storing: 939
Storing game with ID: blackjack-1759075892594-user981
Active games after storing: 940
Storing game with ID: blackjack-1759075892604-user982
Active games after storing: 941
Storing game with ID: blackjack-1759075892614-user983
Active games after storing: 942
Storing game with ID: blackjack-1759075892623-user984
Active games after storing: 943
Storing game with ID: blackjack-1759075892634-user985
Active games after storing: 944
Storing game with ID: blackjack-1759075892643-user986
Active games after storing: 945
Storing game with ID: blackjack-1759075892655-user987
Active games after storing: 946
Storing game with ID: blackjack-1759075892664-user988
Active games after storing: 947
Storing game with ID: blackjack-1759075892675-user989
Active games after storing: 948
Storing game with ID: blackjack-1759075892685-user990
Active games after storing: 949
Storing game with ID: blackjack-1759075892697-user991
Active games after storing: 950
Storing game with ID: blackjack-1759075892708-user993
Active games after storing: 951
Storing game with ID: blackjack-1759075892718-user994
Active games after storing: 952
Storing game with ID: blackjack-1759075892728-user995
Active games after storing: 953
Storing game with ID: blackjack-1759075892740-user997
Active games after storing: 954
Storing game with ID: blackjack-1759075892749-user998
Active games after storing: 955
Storing game with ID: blackjack-1759075892761-user999
Active games after storing: 956
253 |       const dealerWinRate = dealerWins / simulations
254 |       const pushRate = pushes / simulations
255 | 
256 |       // Player should win roughly 42-48% of hands
257 |       expect(playerWinRate).toBeGreaterThan(0.35)
258 |       expect(playerWinRate).toBeLessThan(0.55)
                                  ^
error: expect(received).toBeLessThan(expected)

Expected: < 0.55
Received: 1

      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/test-utils/game-fairness.test.ts:258:29)
(fail) Game Fairness Testing > Blackjack Fairness Testing > should have correct basic strategy expected values [5648.82ms]
Storing game with ID: blackjack-1759075892772-user0
Active games after storing: 957
Storing game with ID: blackjack-1759075892783-user1
Active games after storing: 958
Storing game with ID: blackjack-1759075892793-user2
Active games after storing: 959
Storing game with ID: blackjack-1759075892803-user3
Active games after storing: 960
Storing game with ID: blackjack-1759075892813-user4
Active games after storing: 961
Storing game with ID: blackjack-1759075892825-user5
Active games after storing: 962
Storing game with ID: blackjack-1759075892836-user6
Active games after storing: 963
Storing game with ID: blackjack-1759075892846-user7
Active games after storing: 964
Storing game with ID: blackjack-1759075892856-user8
Active games after storing: 965
Storing game with ID: blackjack-1759075892867-user9
Active games after storing: 966
Storing game with ID: blackjack-1759075892879-user11
Active games after storing: 967
Storing game with ID: blackjack-1759075892889-user12
Active games after storing: 968
Storing game with ID: blackjack-1759075892899-user13
Active games after storing: 969
Storing game with ID: blackjack-1759075892910-user14
Active games after storing: 970
Storing game with ID: blackjack-1759075892920-user15
Active games after storing: 971
Storing game with ID: blackjack-1759075892930-user16
Active games after storing: 972
Storing game with ID: blackjack-1759075892940-user17
Active games after storing: 973
Storing game with ID: blackjack-1759075892950-user18
Active games after storing: 974
Storing game with ID: blackjack-1759075892960-user19
Active games after storing: 975
Storing game with ID: blackjack-1759075892972-user20
Active games after storing: 976
Storing game with ID: blackjack-1759075892985-user21
Active games after storing: 977
Storing game with ID: blackjack-1759075892999-user22
Active games after storing: 978
Storing game with ID: blackjack-1759075893012-user23
Active games after storing: 979
Storing game with ID: blackjack-1759075893026-user25
Active games after storing: 980
Storing game with ID: blackjack-1759075893038-user26
Active games after storing: 981
Storing game with ID: blackjack-1759075893051-user27
Active games after storing: 982
Storing game with ID: blackjack-1759075893061-user28
Active games after storing: 983
Storing game with ID: blackjack-1759075893072-user29
Active games after storing: 984
Storing game with ID: blackjack-1759075893084-user30
Active games after storing: 985
Storing game with ID: blackjack-1759075893095-user31
Active games after storing: 986
Storing game with ID: blackjack-1759075893105-user32
Active games after storing: 987
Storing game with ID: blackjack-1759075893118-user33
Active games after storing: 988
Storing game with ID: blackjack-1759075893128-user34
Active games after storing: 989
Storing game with ID: blackjack-1759075893140-user35
Active games after storing: 990
Storing game with ID: blackjack-1759075893151-user36
Active games after storing: 991
Storing game with ID: blackjack-1759075893162-user37
Active games after storing: 992
Storing game with ID: blackjack-1759075893172-user38
Active games after storing: 993
Storing game with ID: blackjack-1759075893184-user39
Active games after storing: 994
Storing game with ID: blackjack-1759075893195-user40
Active games after storing: 995
Storing game with ID: blackjack-1759075893208-user41
Active games after storing: 996
Storing game with ID: blackjack-1759075893219-user42
Active games after storing: 997
Storing game with ID: blackjack-1759075893231-user43
Active games after storing: 998
Storing game with ID: blackjack-1759075893241-user44
Active games after storing: 999
Storing game with ID: blackjack-1759075893254-user45
Active games after storing: 1000
Storing game with ID: blackjack-1759075893266-user46
Active games after storing: 1001
Storing game with ID: blackjack-1759075893279-user48
Active games after storing: 1002
Storing game with ID: blackjack-1759075893290-user49
Active games after storing: 1003
Storing game with ID: blackjack-1759075893302-user50
Active games after storing: 1004
Storing game with ID: blackjack-1759075893313-user51
Active games after storing: 1005
Storing game with ID: blackjack-1759075893325-user52
Active games after storing: 1006
Storing game with ID: blackjack-1759075893336-user53
Active games after storing: 1007
Storing game with ID: blackjack-1759075893348-user54
Active games after storing: 1008
Storing game with ID: blackjack-1759075893359-user55
Active games after storing: 1009
Storing game with ID: blackjack-1759075893371-user56
Active games after storing: 1010
Storing game with ID: blackjack-1759075893382-user57
Active games after storing: 1011
Storing game with ID: blackjack-1759075893394-user58
Active games after storing: 1012
Storing game with ID: blackjack-1759075893405-user59
Active games after storing: 1013
Storing game with ID: blackjack-1759075893417-user60
Active games after storing: 1014
Storing game with ID: blackjack-1759075893429-user61
Active games after storing: 1015
Storing game with ID: blackjack-1759075893442-user62
Active games after storing: 1016
Storing game with ID: blackjack-1759075893452-user63
Active games after storing: 1017
Storing game with ID: blackjack-1759075893466-user64
Active games after storing: 1018
Storing game with ID: blackjack-1759075893477-user65
Active games after storing: 1019
Storing game with ID: blackjack-1759075893490-user66
Active games after storing: 1020
Storing game with ID: blackjack-1759075893501-user67
Active games after storing: 1021
Storing game with ID: blackjack-1759075893513-user68
Active games after storing: 1022
Storing game with ID: blackjack-1759075893525-user69
Active games after storing: 1023
Storing game with ID: blackjack-1759075893540-user70
Active games after storing: 1024
Storing game with ID: blackjack-1759075893554-user71
Active games after storing: 1025
Storing game with ID: blackjack-1759075893568-user72
Active games after storing: 1026
Storing game with ID: blackjack-1759075893581-user73
Active games after storing: 1027
Storing game with ID: blackjack-1759075893592-user74
Active games after storing: 1028
Storing game with ID: blackjack-1759075893603-user75
Active games after storing: 1029
Storing game with ID: blackjack-1759075893615-user76
Active games after storing: 1030
Storing game with ID: blackjack-1759075893628-user77
Active games after storing: 1031
Storing game with ID: blackjack-1759075893641-user79
Active games after storing: 1032
Storing game with ID: blackjack-1759075893652-user80
Active games after storing: 1033
Storing game with ID: blackjack-1759075893663-user81
Active games after storing: 1034
Storing game with ID: blackjack-1759075893676-user82
Active games after storing: 1035
Storing game with ID: blackjack-1759075893688-user83
Active games after storing: 1036
Storing game with ID: blackjack-1759075893700-user84
Active games after storing: 1037
Storing game with ID: blackjack-1759075893710-user85
Active games after storing: 1038
Storing game with ID: blackjack-1759075893722-user86
Active games after storing: 1039
Storing game with ID: blackjack-1759075893733-user87
Active games after storing: 1040
Storing game with ID: blackjack-1759075893746-user88
Active games after storing: 1041
Storing game with ID: blackjack-1759075893757-user89
Active games after storing: 1042
Storing game with ID: blackjack-1759075893770-user90
Active games after storing: 1043
Storing game with ID: blackjack-1759075893782-user91
Active games after storing: 1044
Storing game with ID: blackjack-1759075893794-user92
Active games after storing: 1045
Storing game with ID: blackjack-1759075893806-user93
Active games after storing: 1046
Storing game with ID: blackjack-1759075893819-user94
Active games after storing: 1047
Storing game with ID: blackjack-1759075893831-user95
Active games after storing: 1048
Storing game with ID: blackjack-1759075893845-user96
Active games after storing: 1049
Storing game with ID: blackjack-1759075893856-user97
Active games after storing: 1050
Storing game with ID: blackjack-1759075893868-user98
Active games after storing: 1051
Storing game with ID: blackjack-1759075893879-user99
Active games after storing: 1052
Storing game with ID: blackjack-1759075893892-user100
Active games after storing: 1053
Storing game with ID: blackjack-1759075893903-user101
Active games after storing: 1054
Storing game with ID: blackjack-1759075893916-user102
Active games after storing: 1055
Storing game with ID: blackjack-1759075893928-user103
Active games after storing: 1056
Storing game with ID: blackjack-1759075893941-user104
Active games after storing: 1057
Storing game with ID: blackjack-1759075893952-user105
Active games after storing: 1058
Storing game with ID: blackjack-1759075893964-user106
Active games after storing: 1059
Storing game with ID: blackjack-1759075893978-user107
Active games after storing: 1060
Storing game with ID: blackjack-1759075893990-user108
Active games after storing: 1061
Storing game with ID: blackjack-1759075894001-user109
Active games after storing: 1062
Storing game with ID: blackjack-1759075894015-user110
Active games after storing: 1063
Storing game with ID: blackjack-1759075894028-user112
Active games after storing: 1064
Storing game with ID: blackjack-1759075894039-user113
Active games after storing: 1065
Storing game with ID: blackjack-1759075894051-user114
Active games after storing: 1066
Storing game with ID: blackjack-1759075894063-user115
Active games after storing: 1067
Storing game with ID: blackjack-1759075894074-user116
Active games after storing: 1068
Storing game with ID: blackjack-1759075894087-user117
Active games after storing: 1069
Storing game with ID: blackjack-1759075894098-user118
Active games after storing: 1070
Storing game with ID: blackjack-1759075894110-user119
Active games after storing: 1071
Storing game with ID: blackjack-1759075894122-user120
Active games after storing: 1072
Storing game with ID: blackjack-1759075894135-user121
Active games after storing: 1073
Storing game with ID: blackjack-1759075894147-user122
Active games after storing: 1074
Storing game with ID: blackjack-1759075894159-user123
Active games after storing: 1075
Storing game with ID: blackjack-1759075894171-user124
Active games after storing: 1076
Storing game with ID: blackjack-1759075894184-user125
Active games after storing: 1077
Storing game with ID: blackjack-1759075894196-user126
Active games after storing: 1078
Storing game with ID: blackjack-1759075894208-user127
Active games after storing: 1079
Storing game with ID: blackjack-1759075894220-user128
Active games after storing: 1080
Storing game with ID: blackjack-1759075894233-user129
Active games after storing: 1081
Storing game with ID: blackjack-1759075894244-user130
Active games after storing: 1082
Storing game with ID: blackjack-1759075894257-user131
Active games after storing: 1083
Storing game with ID: blackjack-1759075894269-user133
Active games after storing: 1084
Storing game with ID: blackjack-1759075894281-user134
Active games after storing: 1085
Storing game with ID: blackjack-1759075894293-user135
Active games after storing: 1086
Storing game with ID: blackjack-1759075894306-user136
Active games after storing: 1087
Storing game with ID: blackjack-1759075894318-user137
Active games after storing: 1088
Storing game with ID: blackjack-1759075894333-user138
Active games after storing: 1089
Storing game with ID: blackjack-1759075894345-user139
Active games after storing: 1090
Storing game with ID: blackjack-1759075894358-user140
Active games after storing: 1091
Storing game with ID: blackjack-1759075894370-user141
Active games after storing: 1092
Storing game with ID: blackjack-1759075894383-user142
Active games after storing: 1093
Storing game with ID: blackjack-1759075894395-user143
Active games after storing: 1094
Storing game with ID: blackjack-1759075894408-user144
Active games after storing: 1095
Storing game with ID: blackjack-1759075894420-user145
Active games after storing: 1096
Storing game with ID: blackjack-1759075894433-user146
Active games after storing: 1097
Storing game with ID: blackjack-1759075894444-user147
Active games after storing: 1098
Storing game with ID: blackjack-1759075894457-user148
Active games after storing: 1099
Storing game with ID: blackjack-1759075894468-user149
Active games after storing: 1100
Storing game with ID: blackjack-1759075894482-user150
Active games after storing: 1101
Storing game with ID: blackjack-1759075894494-user151
Active games after storing: 1102
Storing game with ID: blackjack-1759075894507-user152
Active games after storing: 1103
Storing game with ID: blackjack-1759075894519-user153
Active games after storing: 1104
Storing game with ID: blackjack-1759075894532-user154
Active games after storing: 1105
Storing game with ID: blackjack-1759075894544-user155
Active games after storing: 1106
Storing game with ID: blackjack-1759075894558-user156
Active games after storing: 1107
Storing game with ID: blackjack-1759075894569-user157
Active games after storing: 1108
Storing game with ID: blackjack-1759075894582-user158
Active games after storing: 1109
Storing game with ID: blackjack-1759075894595-user160
Active games after storing: 1110
Storing game with ID: blackjack-1759075894606-user161
Active games after storing: 1111
Storing game with ID: blackjack-1759075894627-user162
Active games after storing: 1112
Storing game with ID: blackjack-1759075894642-user163
Active games after storing: 1113
Storing game with ID: blackjack-1759075894655-user164
Active games after storing: 1114
Storing game with ID: blackjack-1759075894669-user165
Active games after storing: 1115
Storing game with ID: blackjack-1759075894681-user166
Active games after storing: 1116
Storing game with ID: blackjack-1759075894694-user167
Active games after storing: 1117
Storing game with ID: blackjack-1759075894706-user168
Active games after storing: 1118
Storing game with ID: blackjack-1759075894719-user169
Active games after storing: 1119
Storing game with ID: blackjack-1759075894731-user170
Active games after storing: 1120
Storing game with ID: blackjack-1759075894744-user171
Active games after storing: 1121
Storing game with ID: blackjack-1759075894757-user172
Active games after storing: 1122
Storing game with ID: blackjack-1759075894771-user173
Active games after storing: 1123
Storing game with ID: blackjack-1759075894782-user174
Active games after storing: 1124
Storing game with ID: blackjack-1759075894795-user175
Active games after storing: 1125
Storing game with ID: blackjack-1759075894807-user176
Active games after storing: 1126
Storing game with ID: blackjack-1759075894820-user177
Active games after storing: 1127
Storing game with ID: blackjack-1759075894832-user178
Active games after storing: 1128
Storing game with ID: blackjack-1759075894848-user179
Active games after storing: 1129
Storing game with ID: blackjack-1759075894861-user180
Active games after storing: 1130
Storing game with ID: blackjack-1759075894873-user181
Active games after storing: 1131
Storing game with ID: blackjack-1759075894886-user182
Active games after storing: 1132
Storing game with ID: blackjack-1759075894898-user183
Active games after storing: 1133
Storing game with ID: blackjack-1759075894911-user184
Active games after storing: 1134
Storing game with ID: blackjack-1759075894924-user185
Active games after storing: 1135
Storing game with ID: blackjack-1759075894937-user186
Active games after storing: 1136
Storing game with ID: blackjack-1759075894950-user187
Active games after storing: 1137
Storing game with ID: blackjack-1759075894963-user188
Active games after storing: 1138
Storing game with ID: blackjack-1759075894974-user189
Active games after storing: 1139
Storing game with ID: blackjack-1759075894987-user190
Active games after storing: 1140
Storing game with ID: blackjack-1759075895000-user191
Active games after storing: 1141
Storing game with ID: blackjack-1759075895013-user192
Active games after storing: 1142
Storing game with ID: blackjack-1759075895028-user195
Active games after storing: 1143
Storing game with ID: blackjack-1759075895040-user196
Active games after storing: 1144
Storing game with ID: blackjack-1759075895052-user197
Active games after storing: 1145
Storing game with ID: blackjack-1759075895065-user198
Active games after storing: 1146
Storing game with ID: blackjack-1759075895077-user199
Active games after storing: 1147
Storing game with ID: blackjack-1759075895090-user200
Active games after storing: 1148
Storing game with ID: blackjack-1759075895103-user201
Active games after storing: 1149
Storing game with ID: blackjack-1759075895117-user202
Active games after storing: 1150
Storing game with ID: blackjack-1759075895130-user203
Active games after storing: 1151
Storing game with ID: blackjack-1759075895144-user204
Active games after storing: 1152
Storing game with ID: blackjack-1759075895156-user205
Active games after storing: 1153
Storing game with ID: blackjack-1759075895170-user207
Active games after storing: 1154
Storing game with ID: blackjack-1759075895183-user208
Active games after storing: 1155
Storing game with ID: blackjack-1759075895196-user209
Active games after storing: 1156
Storing game with ID: blackjack-1759075895209-user210
Active games after storing: 1157
Storing game with ID: blackjack-1759075895222-user211
Active games after storing: 1158
Storing game with ID: blackjack-1759075895234-user212
Active games after storing: 1159
Storing game with ID: blackjack-1759075895248-user213
Active games after storing: 1160
Storing game with ID: blackjack-1759075895260-user214
Active games after storing: 1161
Storing game with ID: blackjack-1759075895272-user215
Active games after storing: 1162
Storing game with ID: blackjack-1759075895285-user216
Active games after storing: 1163
Storing game with ID: blackjack-1759075895299-user217
Active games after storing: 1164
Storing game with ID: blackjack-1759075895314-user219
Active games after storing: 1165
Storing game with ID: blackjack-1759075895327-user220
Active games after storing: 1166
Storing game with ID: blackjack-1759075895339-user221
Active games after storing: 1167
Storing game with ID: blackjack-1759075895352-user222
Active games after storing: 1168
Storing game with ID: blackjack-1759075895364-user223
Active games after storing: 1169
Storing game with ID: blackjack-1759075895377-user224
Active games after storing: 1170
Storing game with ID: blackjack-1759075895390-user225
Active games after storing: 1171
Storing game with ID: blackjack-1759075895404-user226
Active games after storing: 1172
Storing game with ID: blackjack-1759075895417-user227
Active games after storing: 1173
Storing game with ID: blackjack-1759075895431-user228
Active games after storing: 1174
Storing game with ID: blackjack-1759075895444-user229
Active games after storing: 1175
Storing game with ID: blackjack-1759075895457-user230
Active games after storing: 1176
Storing game with ID: blackjack-1759075895470-user231
Active games after storing: 1177
Storing game with ID: blackjack-1759075895483-user232
Active games after storing: 1178
Storing game with ID: blackjack-1759075895495-user233
Active games after storing: 1179
Storing game with ID: blackjack-1759075895511-user234
Active games after storing: 1180
Storing game with ID: blackjack-1759075895525-user235
Active games after storing: 1181
Storing game with ID: blackjack-1759075895539-user236
Active games after storing: 1182
Storing game with ID: blackjack-1759075895553-user237
Active games after storing: 1183
Storing game with ID: blackjack-1759075895566-user238
Active games after storing: 1184
Storing game with ID: blackjack-1759075895580-user239
Active games after storing: 1185
Storing game with ID: blackjack-1759075895595-user240
Active games after storing: 1186
Storing game with ID: blackjack-1759075895610-user241
Active games after storing: 1187
Storing game with ID: blackjack-1759075895627-user242
Active games after storing: 1188
Storing game with ID: blackjack-1759075895642-user243
Active games after storing: 1189
Storing game with ID: blackjack-1759075895654-user244
Active games after storing: 1190
Storing game with ID: blackjack-1759075895668-user245
Active games after storing: 1191
Storing game with ID: blackjack-1759075895681-user246
Active games after storing: 1192
Storing game with ID: blackjack-1759075895696-user247
Active games after storing: 1193
Storing game with ID: blackjack-1759075895709-user248
Active games after storing: 1194
Storing game with ID: blackjack-1759075895724-user249
Active games after storing: 1195
Storing game with ID: blackjack-1759075895737-user250
Active games after storing: 1196
Storing game with ID: blackjack-1759075895750-user251
Active games after storing: 1197
Storing game with ID: blackjack-1759075895763-user252
Active games after storing: 1198
Storing game with ID: blackjack-1759075895777-user254
Active games after storing: 1199
Storing game with ID: blackjack-1759075895791-user255
Active games after storing: 1200
Storing game with ID: blackjack-1759075895806-user257
Active games after storing: 1201
Storing game with ID: blackjack-1759075895818-user258
Active games after storing: 1202
Storing game with ID: blackjack-1759075895832-user259
Active games after storing: 1203
Storing game with ID: blackjack-1759075895844-user260
Active games after storing: 1204
Storing game with ID: blackjack-1759075895858-user261
Active games after storing: 1205
Storing game with ID: blackjack-1759075895872-user262
Active games after storing: 1206
Storing game with ID: blackjack-1759075895886-user263
Active games after storing: 1207
Storing game with ID: blackjack-1759075895901-user265
Active games after storing: 1208
Storing game with ID: blackjack-1759075895915-user266
Active games after storing: 1209
Storing game with ID: blackjack-1759075895928-user267
Active games after storing: 1210
Storing game with ID: blackjack-1759075895943-user268
Active games after storing: 1211
Storing game with ID: blackjack-1759075895958-user269
Active games after storing: 1212
Storing game with ID: blackjack-1759075895972-user270
Active games after storing: 1213
Storing game with ID: blackjack-1759075895988-user271
Active games after storing: 1214
Storing game with ID: blackjack-1759075896003-user272
Active games after storing: 1215
Storing game with ID: blackjack-1759075896018-user273
Active games after storing: 1216
Storing game with ID: blackjack-1759075896034-user274
Active games after storing: 1217
Storing game with ID: blackjack-1759075896050-user275
Active games after storing: 1218
Storing game with ID: blackjack-1759075896065-user276
Active games after storing: 1219
Storing game with ID: blackjack-1759075896079-user277
Active games after storing: 1220
Storing game with ID: blackjack-1759075896096-user279
Active games after storing: 1221
Storing game with ID: blackjack-1759075896110-user280
Active games after storing: 1222
Storing game with ID: blackjack-1759075896124-user281
Active games after storing: 1223
Storing game with ID: blackjack-1759075896147-user282
Active games after storing: 1224
Storing game with ID: blackjack-1759075896166-user285
Active games after storing: 1225
Storing game with ID: blackjack-1759075896181-user286
Active games after storing: 1226
Storing game with ID: blackjack-1759075896196-user287
Active games after storing: 1227
Storing game with ID: blackjack-1759075896211-user288
Active games after storing: 1228
Storing game with ID: blackjack-1759075896227-user289
Active games after storing: 1229
Storing game with ID: blackjack-1759075896243-user290
Active games after storing: 1230
Storing game with ID: blackjack-1759075896258-user291
Active games after storing: 1231
Storing game with ID: blackjack-1759075896273-user292
Active games after storing: 1232
Storing game with ID: blackjack-1759075896288-user293
Active games after storing: 1233
Storing game with ID: blackjack-1759075896303-user294
Active games after storing: 1234
Storing game with ID: blackjack-1759075896320-user295
Active games after storing: 1235
Storing game with ID: blackjack-1759075896337-user296
Active games after storing: 1236
Storing game with ID: blackjack-1759075896353-user297
Active games after storing: 1237
Storing game with ID: blackjack-1759075896367-user298
Active games after storing: 1238
Storing game with ID: blackjack-1759075896381-user299
Active games after storing: 1239
Storing game with ID: blackjack-1759075896398-user300
Active games after storing: 1240
Storing game with ID: blackjack-1759075896416-user302
Active games after storing: 1241
Storing game with ID: blackjack-1759075896431-user303
Active games after storing: 1242
Storing game with ID: blackjack-1759075896446-user304
Active games after storing: 1243
Storing game with ID: blackjack-1759075896464-user306
Active games after storing: 1244
Storing game with ID: blackjack-1759075896479-user307
Active games after storing: 1245
Storing game with ID: blackjack-1759075896495-user308
Active games after storing: 1246
Storing game with ID: blackjack-1759075896511-user309
Active games after storing: 1247
Storing game with ID: blackjack-1759075896525-user310
Active games after storing: 1248
Storing game with ID: blackjack-1759075896547-user311
Active games after storing: 1249
Storing game with ID: blackjack-1759075896564-user312
Active games after storing: 1250
Storing game with ID: blackjack-1759075896580-user313
Active games after storing: 1251
Storing game with ID: blackjack-1759075896597-user314
Active games after storing: 1252
Storing game with ID: blackjack-1759075896613-user315
Active games after storing: 1253
Storing game with ID: blackjack-1759075896629-user316
Active games after storing: 1254
Storing game with ID: blackjack-1759075896645-user317
Active games after storing: 1255
Storing game with ID: blackjack-1759075896662-user318
Active games after storing: 1256
Storing game with ID: blackjack-1759075896677-user319
Active games after storing: 1257
Storing game with ID: blackjack-1759075896691-user320
Active games after storing: 1258
Storing game with ID: blackjack-1759075896706-user321
Active games after storing: 1259
Storing game with ID: blackjack-1759075896723-user322
Active games after storing: 1260
Storing game with ID: blackjack-1759075896740-user324
Active games after storing: 1261
Storing game with ID: blackjack-1759075896758-user326
Active games after storing: 1262
Storing game with ID: blackjack-1759075896773-user327
Active games after storing: 1263
Storing game with ID: blackjack-1759075896789-user328
Active games after storing: 1264
Storing game with ID: blackjack-1759075896806-user329
Active games after storing: 1265
Storing game with ID: blackjack-1759075896822-user330
Active games after storing: 1266
Storing game with ID: blackjack-1759075896838-user331
Active games after storing: 1267
Storing game with ID: blackjack-1759075896854-user332
Active games after storing: 1268
Storing game with ID: blackjack-1759075896869-user333
Active games after storing: 1269
Storing game with ID: blackjack-1759075896886-user334
Active games after storing: 1270
Storing game with ID: blackjack-1759075896903-user335
Active games after storing: 1271
Storing game with ID: blackjack-1759075896918-user336
Active games after storing: 1272
Storing game with ID: blackjack-1759075896935-user337
Active games after storing: 1273
Storing game with ID: blackjack-1759075896951-user338
Active games after storing: 1274
Storing game with ID: blackjack-1759075896967-user339
Active games after storing: 1275
Storing game with ID: blackjack-1759075896983-user340
Active games after storing: 1276
Storing game with ID: blackjack-1759075896999-user341
Active games after storing: 1277
Storing game with ID: blackjack-1759075897014-user343
Active games after storing: 1278
Storing game with ID: blackjack-1759075897027-user344
Active games after storing: 1279
Storing game with ID: blackjack-1759075897043-user345
Active games after storing: 1280
Storing game with ID: blackjack-1759075897058-user346
Active games after storing: 1281
Storing game with ID: blackjack-1759075897073-user347
Active games after storing: 1282
Storing game with ID: blackjack-1759075897090-user348
Active games after storing: 1283
Storing game with ID: blackjack-1759075897105-user349
Active games after storing: 1284
Storing game with ID: blackjack-1759075897118-user350
Active games after storing: 1285
Storing game with ID: blackjack-1759075897135-user351
Active games after storing: 1286
Storing game with ID: blackjack-1759075897150-user352
Active games after storing: 1287
Storing game with ID: blackjack-1759075897167-user353
Active games after storing: 1288
Storing game with ID: blackjack-1759075897183-user354
Active games after storing: 1289
Storing game with ID: blackjack-1759075897198-user355
Active games after storing: 1290
Storing game with ID: blackjack-1759075897213-user356
Active games after storing: 1291
Storing game with ID: blackjack-1759075897230-user357
Active games after storing: 1292
Storing game with ID: blackjack-1759075897244-user358
Active games after storing: 1293
Storing game with ID: blackjack-1759075897260-user359
Active games after storing: 1294
Storing game with ID: blackjack-1759075897277-user360
Active games after storing: 1295
Storing game with ID: blackjack-1759075897291-user361
Active games after storing: 1296
Storing game with ID: blackjack-1759075897305-user362
Active games after storing: 1297
Storing game with ID: blackjack-1759075897320-user363
Active games after storing: 1298
Storing game with ID: blackjack-1759075897334-user364
Active games after storing: 1299
Storing game with ID: blackjack-1759075897350-user365
Active games after storing: 1300
Storing game with ID: blackjack-1759075897367-user366
Active games after storing: 1301
Storing game with ID: blackjack-1759075897382-user367
Active games after storing: 1302
Storing game with ID: blackjack-1759075897395-user368
Active games after storing: 1303
Storing game with ID: blackjack-1759075897412-user369
Active games after storing: 1304
Storing game with ID: blackjack-1759075897427-user370
Active games after storing: 1305
Storing game with ID: blackjack-1759075897442-user371
Active games after storing: 1306
Storing game with ID: blackjack-1759075897457-user372
Active games after storing: 1307
Storing game with ID: blackjack-1759075897473-user373
Active games after storing: 1308
Storing game with ID: blackjack-1759075897488-user374
Active games after storing: 1309
Storing game with ID: blackjack-1759075897504-user375
Active games after storing: 1310
Storing game with ID: blackjack-1759075897518-user376
Active games after storing: 1311
Storing game with ID: blackjack-1759075897534-user377
Active games after storing: 1312
Storing game with ID: blackjack-1759075897549-user378
Active games after storing: 1313
Storing game with ID: blackjack-1759075897563-user379
Active games after storing: 1314
Storing game with ID: blackjack-1759075897580-user380
Active games after storing: 1315
Storing game with ID: blackjack-1759075897595-user381
Active games after storing: 1316
Storing game with ID: blackjack-1759075897613-user382
Active games after storing: 1317
Storing game with ID: blackjack-1759075897628-user383
Active games after storing: 1318
Storing game with ID: blackjack-1759075897642-user384
Active games after storing: 1319
Storing game with ID: blackjack-1759075897660-user385
Active games after storing: 1320
Storing game with ID: blackjack-1759075897675-user386
Active games after storing: 1321
Storing game with ID: blackjack-1759075897694-user388
Active games after storing: 1322
Storing game with ID: blackjack-1759075897709-user389
Active games after storing: 1323
Storing game with ID: blackjack-1759075897723-user390
Active games after storing: 1324
Storing game with ID: blackjack-1759075897737-user391
Active games after storing: 1325
Storing game with ID: blackjack-1759075897753-user392
Active games after storing: 1326
Storing game with ID: blackjack-1759075897768-user393
Active games after storing: 1327
Storing game with ID: blackjack-1759075897783-user394
Active games after storing: 1328
Storing game with ID: blackjack-1759075897798-user395
Active games after storing: 1329
Storing game with ID: blackjack-1759075897813-user396
Active games after storing: 1330
Storing game with ID: blackjack-1759075897830-user397
Active games after storing: 1331
Storing game with ID: blackjack-1759075897846-user398
Active games after storing: 1332
Storing game with ID: blackjack-1759075897864-user400
Active games after storing: 1333
Storing game with ID: blackjack-1759075897878-user401
Active games after storing: 1334
Storing game with ID: blackjack-1759075897894-user402
Active games after storing: 1335
Storing game with ID: blackjack-1759075897908-user403
Active games after storing: 1336
Storing game with ID: blackjack-1759075897922-user404
Active games after storing: 1337
Storing game with ID: blackjack-1759075897938-user405
Active games after storing: 1338
Storing game with ID: blackjack-1759075897953-user406
Active games after storing: 1339
Storing game with ID: blackjack-1759075897969-user407
Active games after storing: 1340
Storing game with ID: blackjack-1759075897985-user408
Active games after storing: 1341
Storing game with ID: blackjack-1759075898001-user409
Active games after storing: 1342
Storing game with ID: blackjack-1759075898016-user410
Active games after storing: 1343
Storing game with ID: blackjack-1759075898030-user411
Active games after storing: 1344
Storing game with ID: blackjack-1759075898047-user412
Active games after storing: 1345
Storing game with ID: blackjack-1759075898063-user413
Active games after storing: 1346
Storing game with ID: blackjack-1759075898078-user414
Active games after storing: 1347
Storing game with ID: blackjack-1759075898092-user415
Active games after storing: 1348
Storing game with ID: blackjack-1759075898110-user416
Active games after storing: 1349
Storing game with ID: blackjack-1759075898125-user417
Active games after storing: 1350
Storing game with ID: blackjack-1759075898138-user418
Active games after storing: 1351
Storing game with ID: blackjack-1759075898154-user419
Active games after storing: 1352
Storing game with ID: blackjack-1759075898170-user420
Active games after storing: 1353
Storing game with ID: blackjack-1759075898186-user421
Active games after storing: 1354
Storing game with ID: blackjack-1759075898204-user422
Active games after storing: 1355
Storing game with ID: blackjack-1759075898220-user423
Active games after storing: 1356
Storing game with ID: blackjack-1759075898235-user424
Active games after storing: 1357
Storing game with ID: blackjack-1759075898251-user425
Active games after storing: 1358
Storing game with ID: blackjack-1759075898267-user426
Active games after storing: 1359
Storing game with ID: blackjack-1759075898283-user427
Active games after storing: 1360
Storing game with ID: blackjack-1759075898297-user428
Active games after storing: 1361
Storing game with ID: blackjack-1759075898314-user429
Active games after storing: 1362
Storing game with ID: blackjack-1759075898329-user430
Active games after storing: 1363
Storing game with ID: blackjack-1759075898345-user431
Active games after storing: 1364
Storing game with ID: blackjack-1759075898363-user432
Active games after storing: 1365
Storing game with ID: blackjack-1759075898379-user433
Active games after storing: 1366
Storing game with ID: blackjack-1759075898394-user434
Active games after storing: 1367
Storing game with ID: blackjack-1759075898409-user435
Active games after storing: 1368
Storing game with ID: blackjack-1759075898425-user436
Active games after storing: 1369
Storing game with ID: blackjack-1759075898442-user437
Active games after storing: 1370
Storing game with ID: blackjack-1759075898457-user438
Active games after storing: 1371
Storing game with ID: blackjack-1759075898475-user439
Active games after storing: 1372
Storing game with ID: blackjack-1759075898491-user440
Active games after storing: 1373
Storing game with ID: blackjack-1759075898507-user441
Active games after storing: 1374
Storing game with ID: blackjack-1759075898523-user442
Active games after storing: 1375
Storing game with ID: blackjack-1759075898538-user443
Active games after storing: 1376
Storing game with ID: blackjack-1759075898553-user444
Active games after storing: 1377
Storing game with ID: blackjack-1759075898569-user445
Active games after storing: 1378
Storing game with ID: blackjack-1759075898584-user446
Active games after storing: 1379
Storing game with ID: blackjack-1759075898598-user447
Active games after storing: 1380
Storing game with ID: blackjack-1759075898615-user448
Active games after storing: 1381
Storing game with ID: blackjack-1759075898631-user449
Active games after storing: 1382
Storing game with ID: blackjack-1759075898649-user450
Active games after storing: 1383
Storing game with ID: blackjack-1759075898665-user451
Active games after storing: 1384
Storing game with ID: blackjack-1759075898682-user452
Active games after storing: 1385
Storing game with ID: blackjack-1759075898699-user453
Active games after storing: 1386
Storing game with ID: blackjack-1759075898716-user454
Active games after storing: 1387
Storing game with ID: blackjack-1759075898731-user455
Active games after storing: 1388
Storing game with ID: blackjack-1759075898746-user456
Active games after storing: 1389
Storing game with ID: blackjack-1759075898761-user457
Active games after storing: 1390
Storing game with ID: blackjack-1759075898778-user458
Active games after storing: 1391
Storing game with ID: blackjack-1759075898794-user459
Active games after storing: 1392
Storing game with ID: blackjack-1759075898810-user460
Active games after storing: 1393
Storing game with ID: blackjack-1759075898826-user461
Active games after storing: 1394
Storing game with ID: blackjack-1759075898841-user462
Active games after storing: 1395
Storing game with ID: blackjack-1759075898857-user463
Active games after storing: 1396
Storing game with ID: blackjack-1759075898876-user464
Active games after storing: 1397
Storing game with ID: blackjack-1759075898891-user465
Active games after storing: 1398
Storing game with ID: blackjack-1759075898907-user466
Active games after storing: 1399
Storing game with ID: blackjack-1759075898923-user467
Active games after storing: 1400
Storing game with ID: blackjack-1759075898939-user468
Active games after storing: 1401
Storing game with ID: blackjack-1759075898955-user469
Active games after storing: 1402
Storing game with ID: blackjack-1759075898973-user470
Active games after storing: 1403
Storing game with ID: blackjack-1759075898989-user471
Active games after storing: 1404
Storing game with ID: blackjack-1759075899006-user472
Active games after storing: 1405
Storing game with ID: blackjack-1759075899023-user473
Active games after storing: 1406
Storing game with ID: blackjack-1759075899040-user474
Active games after storing: 1407
Storing game with ID: blackjack-1759075899057-user475
Active games after storing: 1408
Storing game with ID: blackjack-1759075899074-user476
Active games after storing: 1409
Storing game with ID: blackjack-1759075899091-user478
Active games after storing: 1410
Storing game with ID: blackjack-1759075899106-user479
Active games after storing: 1411
Storing game with ID: blackjack-1759075899125-user481
Active games after storing: 1412
Storing game with ID: blackjack-1759075899140-user482
Active games after storing: 1413
Storing game with ID: blackjack-1759075899159-user484
Active games after storing: 1414
Storing game with ID: blackjack-1759075899175-user485
Active games after storing: 1415
Storing game with ID: blackjack-1759075899192-user486
Active games after storing: 1416
Storing game with ID: blackjack-1759075899208-user487
Active games after storing: 1417
Storing game with ID: blackjack-1759075899225-user488
Active games after storing: 1418
Storing game with ID: blackjack-1759075899242-user489
Active games after storing: 1419
Storing game with ID: blackjack-1759075899258-user490
Active games after storing: 1420
Storing game with ID: blackjack-1759075899275-user491
Active games after storing: 1421
Storing game with ID: blackjack-1759075899294-user493
Active games after storing: 1422
Storing game with ID: blackjack-1759075899310-user494
Active games after storing: 1423
Storing game with ID: blackjack-1759075899328-user495
Active games after storing: 1424
Storing game with ID: blackjack-1759075899343-user496
Active games after storing: 1425
Storing game with ID: blackjack-1759075899362-user497
Active games after storing: 1426
Storing game with ID: blackjack-1759075899377-user498
Active games after storing: 1427
Storing game with ID: blackjack-1759075899395-user499
Active games after storing: 1428
Storing game with ID: blackjack-1759075899411-user500
Active games after storing: 1429
Storing game with ID: blackjack-1759075899429-user501
Active games after storing: 1430
Storing game with ID: blackjack-1759075899445-user502
Active games after storing: 1431
Storing game with ID: blackjack-1759075899463-user503
Active games after storing: 1432
Storing game with ID: blackjack-1759075899480-user504
Active games after storing: 1433
Storing game with ID: blackjack-1759075899499-user506
Active games after storing: 1434
Storing game with ID: blackjack-1759075899516-user508
Active games after storing: 1435
Storing game with ID: blackjack-1759075899534-user510
Active games after storing: 1436
Storing game with ID: blackjack-1759075899548-user511
Active games after storing: 1437
Storing game with ID: blackjack-1759075899566-user512
Active games after storing: 1438
Storing game with ID: blackjack-1759075899583-user513
Active games after storing: 1439
Storing game with ID: blackjack-1759075899601-user514
Active games after storing: 1440
Storing game with ID: blackjack-1759075899617-user515
Active games after storing: 1441
Storing game with ID: blackjack-1759075899636-user516
Active games after storing: 1442
Storing game with ID: blackjack-1759075899652-user517
Active games after storing: 1443
Storing game with ID: blackjack-1759075899669-user518
Active games after storing: 1444
Storing game with ID: blackjack-1759075899685-user519
Active games after storing: 1445
(pass) Game Fairness Testing > Blackjack Fairness Testing > should deal cards from a properly shuffled deck [6931.78ms]
(pass) Game Fairness Testing > Blackjack Fairness Testing > should calculate hand values correctly
(pass) Game Fairness Testing > Cross-Game Consistency > should maintain consistent random seed behavior across games [1.00ms]
(pass) Game Fairness Testing > Cross-Game Consistency > should have reasonable house edge across all games
(pass) Game Fairness Testing > Statistical Validation > should pass Kolmogorov-Smirnov test for uniform distribution [17.00ms]
(pass) Game Fairness Testing > Statistical Validation > should maintain entropy across multiple generations [17.00ms]

packages/backend/src/test-utils/security-hardening.test.ts:

# Unhandled error between tests
-------------------------------
 7 | import { AuditLogger } from '../middleware/audit'
 8 | import { sessionManager, ipSecurityManager } from '../middleware/security'
 9 | import { z } from 'zod'
10 | 
11 | describe('Security Hardening', () => {
12 |   beforeAll(async () => {
       ^
ReferenceError: beforeAll is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/test-utils/security-hardening.test.ts:12:3)
      at /home/juan/random/appgameproj/packages/backend/src/test-utils/security-hardening.test.ts:11:1
      at loadAndEvaluateModule (2:1)
-------------------------------


# Unhandled error between tests
-------------------------------
481 | })
482 | 
483 | describe('Integration Tests', () => {
484 |   let app: Hono
485 | 
486 |   beforeEach(async () => {
        ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/test-utils/security-hardening.test.ts:486:3)
      at /home/juan/random/appgameproj/packages/backend/src/test-utils/security-hardening.test.ts:483:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/database/database.test.ts:
(pass) Database Types and Validation > should validate game types correctly
(pass) Database Types and Validation > should validate bet amounts correctly
(pass) Database Service Validation > should validate input parameters correctly
(pass) Game Result Data Types > should accept valid roulette result data
(pass) Game Result Data Types > should accept valid blackjack result data
(skip) Database Integration > should connect to database
(skip) Database Integration > should create and retrieve user profile
(skip) Database Integration > should process game transactions atomically

packages/backend/src/integration/currency-api.test.ts:
(pass) Currency API Integration > API Endpoint Validation > should validate balance request parameters [39.00ms]
(pass) Currency API Integration > API Endpoint Validation > should validate transaction history query parameters
(pass) Currency API Integration > API Endpoint Validation > should format API responses correctly [1.00ms]
(pass) Currency API Integration > API Endpoint Validation > should format transaction history responses correctly
(pass) Currency API Integration > API Endpoint Validation > should format statistics responses correctly
(pass) Currency API Integration > Error Handling > should handle currency service errors appropriately
(pass) Currency API Integration > Error Handling > should validate authentication requirements

packages/backend/src/routes/blackjack.test.ts:

# Unhandled error between tests
-------------------------------
 7 | import { gameRoutes } from './games'
 8 | 
 9 | describe('Blackjack API Endpoints', () => {
10 |   let app: Hono
11 | 
12 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/routes/blackjack.test.ts:12:3)
      at /home/juan/random/appgameproj/packages/backend/src/routes/blackjack.test.ts:9:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/routes/user.test.ts:
(pass) User API Validation > should validate profile update input correctly [2.00ms]
(pass) User API Validation > should validate daily bonus cooldown logic
(pass) User API Validation > should validate balance operations

packages/backend/src/routes/games.test.ts:

# Unhandled error between tests
-------------------------------
14 | process.env.JWT_SECRET = 'test-jwt-secret'
15 | 
16 | describe('Game API', () => {
17 |   let app: Hono
18 | 
19 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/routes/games.test.ts:19:3)
      at /home/juan/random/appgameproj/packages/backend/src/routes/games.test.ts:16:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/routes/auth.test.ts:

# Unhandled error between tests
-------------------------------
14 | process.env.JWT_SECRET = 'test-jwt-secret'
15 | 
16 | describe('Authentication API', () => {
17 |   let app: Hono
18 | 
19 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/routes/auth.test.ts:19:3)
      at /home/juan/random/appgameproj/packages/backend/src/routes/auth.test.ts:16:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/routes/statistics.test.ts:
(pass) Statistics API Routes > Route Structure > should have all required statistics routes defined [3.00ms]
(pass) Statistics API Routes > Route Dependencies > should import all required services
(pass) Statistics API Routes > Validation Schemas > should validate statistics filters correctly
(pass) Statistics API Routes > Error Handling > should have proper error handling middleware
(pass) Statistics API Routes > Authentication > should have authentication middleware
(pass) Statistics API Routes > Statistics Service Integration > should handle empty statistics correctly
(pass) Statistics API Routes > Statistics Service Integration > should calculate statistics with sample data [2.00ms]
(pass) Statistics API Routes > Database Service Integration > should have all required database methods
(pass) Statistics API Routes > Type Safety > should have proper TypeScript types
(pass) Statistics API Routes > API Route Structure > should export statistics routes properly
(pass) Statistics API Routes > Middleware Integration > should have proper middleware setup

packages/backend/src/routes/roulette.test.ts:

# Unhandled error between tests
-------------------------------
 9 | 
10 | describe('Roulette API Endpoints', () => {
11 |   let app: Hono
12 |   let mockCurrencyService: any
13 | 
14 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/routes/roulette.test.ts:14:3)
      at /home/juan/random/appgameproj/packages/backend/src/routes/roulette.test.ts:10:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/test-utils/e2e-tests.test.ts:

# Unhandled error between tests
-------------------------------
 5 | 
 6 | import { describe, test, expect } from 'bun:test'
 7 | 
 8 | // Mock browser environment for E2E-style tests
 9 | const mockBrowser = {
10 |   navigate: mock((url: string) => Promise.resolve()),
                 ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/test-utils/e2e-tests.test.ts:10:13
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/test-utils/simple-integration.test.tsx:
Performance monitoring service initialized
User experience monitoring initialized

# Unhandled error between tests
-------------------------------
13 |   isVisible: true,
14 |   toggleChat: () => {},
15 |   position: 'right',
16 | });
17 | 
18 | mock('../hooks/useChatLayout', () => ({
     ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/test-utils/simple-integration.test.tsx:18:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/test-utils/performance-tests.test.ts:
(pass) Performance Tests for Case Opening Game > Animation Frame Rate Tests > should maintain 60 FPS during carousel animation [600.98ms]
(pass) Performance Tests for Case Opening Game > Animation Frame Rate Tests > should handle animation timing correctly
(pass) Performance Tests for Case Opening Game > Animation Frame Rate Tests > should handle animation cancellation
(pass) Performance Tests for Case Opening Game > Memory Usage Tests > should not leak memory during carousel generation [2.00ms]
(pass) Performance Tests for Case Opening Game > Memory Usage Tests > should handle large datasets efficiently
(pass) Performance Tests for Case Opening Game > API Performance Tests > should handle API response times efficiently [21.00ms]
(pass) Performance Tests for Case Opening Game > API Performance Tests > should handle concurrent operations efficiently [17.00ms]
(pass) Performance Tests for Case Opening Game > Animation Performance Tests > should calculate animation positions efficiently
(pass) Performance Tests for Case Opening Game > Animation Performance Tests > should handle easing calculations efficiently
(pass) Performance Tests for Case Opening Game > Component Rendering Performance > should render components efficiently
(pass) Performance Tests for Case Opening Game > Component Rendering Performance > should handle state updates efficiently [1.00ms]
(pass) Performance Tests for Case Opening Game > Error Handling Performance > should handle errors without performance impact

packages/frontend/src/test-utils/accessibility-tests.test.ts:
(pass) Accessibility Tests for Case Opening Game > Keyboard Navigation Tests > should support Tab navigation between interactive elements
(pass) Accessibility Tests for Case Opening Game > Keyboard Navigation Tests > should handle Enter key activation
(pass) Accessibility Tests for Case Opening Game > Keyboard Navigation Tests > should handle Space key activation
(pass) Accessibility Tests for Case Opening Game > Keyboard Navigation Tests > should handle Escape key for closing modals
(pass) Accessibility Tests for Case Opening Game > Keyboard Navigation Tests > should support arrow key navigation in carousel
(pass) Accessibility Tests for Case Opening Game > Screen Reader Compatibility Tests > should provide proper ARIA labels for interactive elements
(pass) Accessibility Tests for Case Opening Game > Screen Reader Compatibility Tests > should announce state changes to screen readers
(pass) Accessibility Tests for Case Opening Game > Screen Reader Compatibility Tests > should provide descriptive text for images and icons
(pass) Accessibility Tests for Case Opening Game > Screen Reader Compatibility Tests > should handle dynamic content updates
(pass) Accessibility Tests for Case Opening Game > Focus Management Tests > should manage focus properly during case opening
(pass) Accessibility Tests for Case Opening Game > Focus Management Tests > should trap focus in modal dialogs [1.00ms]
(pass) Accessibility Tests for Case Opening Game > Focus Management Tests > should restore focus after modal closes
(pass) Accessibility Tests for Case Opening Game > Color and Contrast Tests > should provide sufficient color contrast
(pass) Accessibility Tests for Case Opening Game > Color and Contrast Tests > should not rely solely on color for information
(pass) Accessibility Tests for Case Opening Game > Responsive Design Accessibility > should maintain accessibility on mobile devices
(pass) Accessibility Tests for Case Opening Game > Responsive Design Accessibility > should support touch interactions
(pass) Accessibility Tests for Case Opening Game > Error Handling Accessibility > should announce errors to screen readers
(pass) Accessibility Tests for Case Opening Game > Error Handling Accessibility > should provide error recovery options

packages/frontend/src/utils/currency.test.ts:
(pass) Currency Utils > formatCurrency > should format roubles correctly [1.00ms]
(pass) Currency Utils > formatCurrency > should format dollars correctly
(pass) Currency Utils > formatCurrency > should format euros correctly
(pass) Currency Utils > formatCurrency > should handle decimal amounts
(pass) Currency Utils > formatCurrency > should handle large amounts
(pass) Currency Utils > formatCurrency > should handle zero amounts
(pass) Currency Utils > isValidBetAmount > should validate positive amounts
(pass) Currency Utils > isValidBetAmount > should reject invalid amounts
(pass) Currency Utils > isValidEmail > should validate correct emails
(pass) Currency Utils > isValidEmail > should reject invalid emails
(pass) Currency Utils > isValidUsername > should validate correct usernames [1.00ms]
(pass) Currency Utils > isValidUsername > should reject invalid usernames

packages/backend/src/services/game-engine/game-validator.test.ts:

# Unhandled error between tests
-------------------------------
 9 | import { RouletteResult, BlackjackResult } from '../../types/database'
10 | 
11 | describe('GameValidator', () => {
12 |   let validator: GameValidator
13 | 
14 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/game-engine/game-validator.test.ts:14:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/game-engine/game-validator.test.ts:11:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/game-engine/blackjack-game.test.ts:
Storing game with ID: blackjack-1759075900752-test-user-123
Active games after storing: 1
(pass) BlackjackGame > Game Initialization > should create a new blackjack game successfully [1.00ms]
(pass) BlackjackGame > Game Initialization > should reject invalid bet amounts
(pass) BlackjackGame > Game Initialization > should reject bets above maximum
Storing game with ID: blackjack-1759075900753-test-user-123
Active games after storing: 1
Storing game with ID: blackjack-1759075900754-test-user-123
Active games after storing: 2
Storing game with ID: blackjack-1759075900755-test-user-123
Active games after storing: 3
Storing game with ID: blackjack-1759075900756-test-user-123
Active games after storing: 4
Storing game with ID: blackjack-1759075900757-test-user-123
Active games after storing: 5
Storing game with ID: blackjack-1759075900757-test-user-123
Active games after storing: 5
Storing game with ID: blackjack-1759075900758-test-user-123
Active games after storing: 6
Storing game with ID: blackjack-1759075900759-test-user-123
Active games after storing: 7
Storing game with ID: blackjack-1759075900759-test-user-123
Active games after storing: 7
Storing game with ID: blackjack-1759075900760-test-user-123
Active games after storing: 8
Storing game with ID: blackjack-1759075900761-test-user-123
Active games after storing: 9
Storing game with ID: blackjack-1759075900762-test-user-123
Active games after storing: 10
Storing game with ID: blackjack-1759075900763-test-user-123
Active games after storing: 11
Storing game with ID: blackjack-1759075900764-test-user-123
Active games after storing: 12
(pass) BlackjackGame > Game Initialization > should handle immediate blackjack correctly [12.00ms]
Storing game with ID: blackjack-1759075900765-test-user-123
Active games after storing: 1
(pass) BlackjackGame > Hand Value Calculation > should calculate hand values correctly [2.00ms]
Storing game with ID: blackjack-1759075900767-test-user-123
Active games after storing: 1
Storing game with ID: blackjack-1759075900768-test-user-123
Active games after storing: 2
Storing game with ID: blackjack-1759075900769-test-user-123
Active games after storing: 3
Storing game with ID: blackjack-1759075900770-test-user-123
Active games after storing: 4
Storing game with ID: blackjack-1759075900771-test-user-123
Active games after storing: 5
Storing game with ID: blackjack-1759075900772-test-user-123
Active games after storing: 6
Storing game with ID: blackjack-1759075900772-test-user-123
Active games after storing: 6
Storing game with ID: blackjack-1759075900773-test-user-123
Active games after storing: 7
Storing game with ID: blackjack-1759075900774-test-user-123
Active games after storing: 8
Storing game with ID: blackjack-1759075900775-test-user-123
Active games after storing: 9
Storing game with ID: blackjack-1759075900777-test-user-123
Active games after storing: 10
Storing game with ID: blackjack-1759075900778-test-user-123
Active games after storing: 11
Storing game with ID: blackjack-1759075900780-test-user-123
Active games after storing: 12
Storing game with ID: blackjack-1759075900781-test-user-123
Active games after storing: 13
Storing game with ID: blackjack-1759075900781-test-user-123
Active games after storing: 13
Storing game with ID: blackjack-1759075900784-test-user-123
Active games after storing: 14
Storing game with ID: blackjack-1759075900785-test-user-123
Active games after storing: 15
(pass) BlackjackGame > Hand Value Calculation > should handle aces correctly [19.00ms]
Storing game with ID: blackjack-1759075900786-test-user-123
Active games after storing: 1
Storing game with ID: blackjack-1759075900787-test-user-123
Active games after storing: 2
Storing game with ID: blackjack-1759075900788-test-user-123
Active games after storing: 3
Storing game with ID: blackjack-1759075900789-test-user-123
Active games after storing: 4
Storing game with ID: blackjack-1759075900790-test-user-123
Active games after storing: 5
Storing game with ID: blackjack-1759075900791-test-user-123
Active games after storing: 6
Storing game with ID: blackjack-1759075900792-test-user-123
Active games after storing: 7
Storing game with ID: blackjack-1759075900792-test-user-123
Active games after storing: 7
Storing game with ID: blackjack-1759075900793-test-user-123
Active games after storing: 8
Storing game with ID: blackjack-1759075900794-test-user-123
Active games after storing: 9
Storing game with ID: blackjack-1759075900795-test-user-123
Active games after storing: 10
Storing game with ID: blackjack-1759075900795-test-user-123
Active games after storing: 10
Storing game with ID: blackjack-1759075900796-test-user-123
Active games after storing: 11
Storing game with ID: blackjack-1759075900797-test-user-123
Active games after storing: 12
Storing game with ID: blackjack-1759075900800-test-user-123
Active games after storing: 13
Storing game with ID: blackjack-1759075900801-test-user-123
Active games after storing: 14
Storing game with ID: blackjack-1759075900802-test-user-123
Active games after storing: 15
Storing game with ID: blackjack-1759075900803-test-user-123
Active games after storing: 16
Storing game with ID: blackjack-1759075900804-test-user-123
Active games after storing: 17
Storing game with ID: blackjack-1759075900805-test-user-123
Active games after storing: 18
(pass) BlackjackGame > Hand Value Calculation > should handle face cards correctly [20.00ms]
Storing game with ID: blackjack-1759075900806-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900806-test-user-123",
  action: "hit",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900806-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Player Actions > should process hit action correctly [1.00ms]
Storing game with ID: blackjack-1759075900808-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900808-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900808-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Player Actions > should process stand action correctly
Storing game with ID: blackjack-1759075900809-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900809-test-user-123",
  action: "double",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900809-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Player Actions > should handle double down correctly [1.00ms]
Storing game with ID: blackjack-1759075900810-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "non-existent-game",
  action: "hit",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900810-test-user-123" ]
Found game state: false
Game not found for ID: non-existent-game
(pass) BlackjackGame > Player Actions > should reject actions for non-existent games
Storing game with ID: blackjack-1759075900811-test-user-123
Active games after storing: 1
Processing action: {
  userId: "wrong-user",
  gameId: "blackjack-1759075900811-test-user-123",
  action: "hit",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900811-test-user-123" ]
Found game state: true
User mismatch. Expected: test-user-123 Got: wrong-user
(pass) BlackjackGame > Player Actions > should reject actions from wrong user
Storing game with ID: blackjack-1759075900812-test-user-123
Active games after storing: 1
Storing game with ID: blackjack-1759075900813-test-user-123
Active games after storing: 2
Storing game with ID: blackjack-1759075900814-test-user-123
Active games after storing: 3
Storing game with ID: blackjack-1759075900816-test-user-123
Active games after storing: 4
Storing game with ID: blackjack-1759075900817-test-user-123
Active games after storing: 5
Storing game with ID: blackjack-1759075900818-test-user-123
Active games after storing: 6
Storing game with ID: blackjack-1759075900819-test-user-123
Active games after storing: 7
Storing game with ID: blackjack-1759075900820-test-user-123
Active games after storing: 8
Storing game with ID: blackjack-1759075900821-test-user-123
Active games after storing: 9
Storing game with ID: blackjack-1759075900822-test-user-123
Active games after storing: 10
Storing game with ID: blackjack-1759075900823-test-user-123
Active games after storing: 11
Storing game with ID: blackjack-1759075900824-test-user-123
Active games after storing: 12
Storing game with ID: blackjack-1759075900825-test-user-123
Active games after storing: 13
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900825-test-user-123",
  action: "split",
}
Active games count: 13
Active game IDs: [
  "blackjack-1759075900812-test-user-123", "blackjack-1759075900813-test-user-123", "blackjack-1759075900814-test-user-123",
  "blackjack-1759075900816-test-user-123", "blackjack-1759075900817-test-user-123", "blackjack-1759075900818-test-user-123",
  "blackjack-1759075900819-test-user-123", "blackjack-1759075900820-test-user-123", "blackjack-1759075900821-test-user-123",
  "blackjack-1759075900822-test-user-123", "blackjack-1759075900823-test-user-123", "blackjack-1759075900824-test-user-123",
  "blackjack-1759075900825-test-user-123"
]
Found game state: true
(pass) BlackjackGame > Split Functionality > should identify splittable hands correctly [15.00ms]
Storing game with ID: blackjack-1759075900826-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900826-test-user-123",
  action: "split",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900826-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Split Functionality > should reject split on non-splittable hands [1.00ms]
Storing game with ID: blackjack-1759075900827-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900827-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900827-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Dealer Logic > should complete game when player stands
Storing game with ID: blackjack-1759075900828-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900828-test-user-123",
  action: "hit",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900828-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Dealer Logic > should handle player bust correctly [1.00ms]
Storing game with ID: blackjack-1759075900829-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900829-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900829-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900829-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900829-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900829-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900830-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900830-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900830-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900833-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900833-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900833-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900834-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900834-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900834-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900835-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900835-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900835-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900835-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900835-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900835-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900836-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900836-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900836-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900837-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900837-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900837-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900838-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900838-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900838-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900839-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900839-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900839-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900840-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900840-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900840-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900840-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900840-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900840-test-user-123" ]
Found game state: true
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900841-test-user-123",
  action: "stand",
}
Active games count: 0
Active game IDs: []
Found game state: false
Game not found for ID: blackjack-1759075900841-test-user-123
Storing game with ID: blackjack-1759075900842-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900842-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900842-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900843-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900843-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900843-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900843-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900843-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900843-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900844-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900844-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900844-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900846-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900846-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900846-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900847-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900847-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900847-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900848-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900848-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900848-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900849-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900849-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900849-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900850-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900850-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900850-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900851-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900851-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900851-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900852-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900852-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900852-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900852-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900852-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900852-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900853-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900853-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900853-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900855-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900855-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900855-test-user-123" ]
Found game state: true
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900855-test-user-123",
  action: "stand",
}
Active games count: 0
Active game IDs: []
Found game state: false
Game not found for ID: blackjack-1759075900855-test-user-123
Storing game with ID: blackjack-1759075900856-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900856-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900856-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900857-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900857-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900857-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900857-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900857-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900857-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900859-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900859-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900859-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900860-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900860-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900860-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900860-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900860-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900860-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900861-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900861-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900861-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900862-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900862-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900862-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900864-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900864-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900864-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900865-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900865-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900865-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900866-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900866-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900866-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900867-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900867-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900867-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900868-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900868-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900868-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900869-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900869-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900869-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900869-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900869-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900869-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900870-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900870-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900870-test-user-123" ]
Found game state: true
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900871-test-user-123",
  action: "stand",
}
Active games count: 0
Active game IDs: []
Found game state: false
Game not found for ID: blackjack-1759075900871-test-user-123
Storing game with ID: blackjack-1759075900872-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900872-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900872-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900873-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900873-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900873-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900874-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900874-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900874-test-user-123" ]
Found game state: true
Storing game with ID: blackjack-1759075900875-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900875-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900875-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Payout Calculations > should calculate correct payouts for different outcomes [48.00ms]
Storing game with ID: blackjack-1759075900876-test-user-123
Active games after storing: 1
(pass) BlackjackGame > Game State Management > should maintain game state correctly [1.00ms]
Storing game with ID: blackjack-1759075900877-test-user-123
Active games after storing: 1
Processing action: {
  userId: "test-user-123",
  gameId: "blackjack-1759075900877-test-user-123",
  action: "stand",
}
Active games count: 1
Active game IDs: [ "blackjack-1759075900877-test-user-123" ]
Found game state: true
(pass) BlackjackGame > Game State Management > should clean up completed games [1.00ms]
Storing game with ID: blackjack-1759075900878-test-user-123
Active games after storing: 1
Storing game with ID: blackjack-1759075900880-test-user-123
Active games after storing: 2
Storing game with ID: blackjack-1759075900881-test-user-123
Active games after storing: 3
Storing game with ID: blackjack-1759075900882-test-user-123
Active games after storing: 4
Storing game with ID: blackjack-1759075900883-test-user-123
Active games after storing: 5
Storing game with ID: blackjack-1759075900884-test-user-123
Active games after storing: 6
Storing game with ID: blackjack-1759075900885-test-user-123
Active games after storing: 7
Storing game with ID: blackjack-1759075900886-test-user-123
Active games after storing: 8
Storing game with ID: blackjack-1759075900886-test-user-123
Active games after storing: 8
Storing game with ID: blackjack-1759075900887-test-user-123
Active games after storing: 9
Storing game with ID: blackjack-1759075900889-test-user-123
Active games after storing: 10
Storing game with ID: blackjack-1759075900890-test-user-123
Active games after storing: 11
Storing game with ID: blackjack-1759075900891-test-user-123
Active games after storing: 12
Storing game with ID: blackjack-1759075900892-test-user-123
Active games after storing: 13
Storing game with ID: blackjack-1759075900893-test-user-123
Active games after storing: 14
Storing game with ID: blackjack-1759075900894-test-user-123
Active games after storing: 15
Storing game with ID: blackjack-1759075900896-test-user-123
Active games after storing: 16
Storing game with ID: blackjack-1759075900897-test-user-123
Active games after storing: 17
Storing game with ID: blackjack-1759075900898-test-user-123
Active games after storing: 18
93 |       // Wait for frames to complete
94 |       setTimeout(() => {
95 |         // Check that frames are spaced approximately 16ms apart (60 FPS)
96 |         for (let i = 1; i < frameTimes.length; i++) {
97 |           const frameDelta = frameTimes[i] - frameTimes[i - 1]
98 |           expect(frameDelta).toBeGreaterThan(10) // At least 10ms between frames
                                  ^
error: expect(received).toBeGreaterThan(expected)

Expected: > 10
Received: NaN

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/test-utils/performance-tests.test.ts:98:30)
(fail) BlackjackGame > Edge Cases > should handle multiple aces correctly [22.00ms]
Storing game with ID: blackjack-1759075900900-test-user-123
Active games after storing: 1
(pass) BlackjackGame > Edge Cases > should handle empty deck gracefully [1.00ms]
(pass) BlackjackGame > Game Information > should provide correct game information
Storing game with ID: blackjack-1759075900901-test-user-123
Active games after storing: 1
Storing game with ID: blackjack-1759075900902-test-user-123
Active games after storing: 2
Storing game with ID: blackjack-1759075900902-test-user-123
Active games after storing: 2
Storing game with ID: blackjack-1759075900903-test-user-123
Active games after storing: 3
Storing game with ID: blackjack-1759075900903-test-user-123
Active games after storing: 3
Storing game with ID: blackjack-1759075900904-test-user-123
Active games after storing: 4
Storing game with ID: blackjack-1759075900904-test-user-123
Active games after storing: 4
Storing game with ID: blackjack-1759075900905-test-user-123
Active games after storing: 5

packages/backend/src/services/game-engine/game-state-manager.test.ts:

# Unhandled error between tests
-------------------------------
 8 | import { GameBet, GameResult } from './types'
 9 | 
10 | describe('GameStateManager', () => {
11 |   let manager: GameStateManager
12 | 
13 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/game-engine/game-state-manager.test.ts:13:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/game-engine/game-state-manager.test.ts:10:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/game-engine/random-generator.test.ts:

# Unhandled error between tests
-------------------------------
 8 | import { ProvablyFairSeed } from './types'
 9 | 
10 | describe('SecureRandomGenerator', () => {
11 |   let generator: SecureRandomGenerator
12 | 
13 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/game-engine/random-generator.test.ts:13:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/game-engine/random-generator.test.ts:10:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/game-engine/roulette-game.test.ts:

# Unhandled error between tests
-------------------------------
 8 | import type { RouletteBet } from './roulette-game'
 9 | 
10 | describe('RouletteGame', () => {
11 |   let rouletteGame: RouletteGame
12 | 
13 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/game-engine/roulette-game.test.ts:13:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/game-engine/roulette-game.test.ts:10:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/game-engine/roulette-final.test.ts:
(pass) Roulette Final Implementation Test > should complete a full roulette game workflow [1.00ms]
(pass) Roulette Final Implementation Test > should handle edge cases correctly [1.00ms]
(pass) Roulette Final Implementation Test > should provide correct game information
(pass) Roulette Final Implementation Test > should demonstrate statistical fairness over many games [2.00ms]
(pass) Roulette Final Implementation Test > should integrate with payout calculator correctly
(pass) Roulette Final Implementation Test > should validate all game results correctly

packages/backend/src/services/game-engine/core-engine.test.ts:

# Unhandled error between tests
-------------------------------
 8 | import { GameBet, ProvablyFairSeed } from './types'
 9 | 
10 | describe('CoreGameEngine', () => {
11 |   let engine: CoreGameEngine
12 | 
13 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/game-engine/core-engine.test.ts:13:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/game-engine/core-engine.test.ts:10:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/backend/src/services/game-engine/roulette-integration.test.ts:
(pass) Roulette Integration > should create a roulette game and play successfully
(pass) Roulette Integration > should return bet types information
(pass) Roulette Integration > should return wheel layout
(pass) Roulette Integration > should validate bets correctly
(pass) Roulette Integration > should handle multiple games with different outcomes

packages/backend/src/services/game-engine/payout-calculator.test.ts:

# Unhandled error between tests
-------------------------------
 7 | import { PayoutCalculator } from './payout-calculator'
 8 | 
 9 | describe('PayoutCalculator', () => {
10 |   let calculator: PayoutCalculator
11 | 
12 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/backend/src/services/game-engine/payout-calculator.test.ts:12:3)
      at /home/juan/random/appgameproj/packages/backend/src/services/game-engine/payout-calculator.test.ts:9:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/services/__tests__/connection-manager.test.ts:

# Unhandled error between tests
-------------------------------
 8 | import { ChatService } from '../chat-service';
 9 | import { PresenceService } from '../presence-service';
10 | import type { ConnectionStatus } from '../../types/chat';
11 | 
12 | // Mock the service classes
13 | jest.mock('../chat-service');
     ^
ReferenceError: jest is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/services/__tests__/connection-manager.test.ts:13:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/services/__tests__/connection-manager-enhanced.test.ts:

# Unhandled error between tests
-------------------------------
 9 | import { ChatService } from '../chat-service';
10 | import { PresenceService } from '../presence-service';
11 | import type { ConnectionStatus, ChatError, QueuedMessage } from '../../types/chat';
12 | 
13 | // Mock the service classes
14 | mock.module('../chat-service', () => ({
     ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/services/__tests__/connection-manager-enhanced.test.ts:14:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/services/__tests__/error-handling-basic.test.ts:
(pass) Error Handling Types and Constants > ChatErrorType > should have all required error types [1.00ms]
(pass) Error Handling Types and Constants > MessageStatus > should have all required message statuses
(pass) Error Handling Types and Constants > ConnectionHealth interface > should create valid connection health object
(pass) Error Handling Types and Constants > ConnectionHealth interface > should handle error state in connection health
(pass) Error Handling Types and Constants > NetworkStatus interface > should create valid network status object
(pass) Error Handling Types and Constants > NetworkStatus interface > should handle offline network status
(pass) Error Handling Types and Constants > QueuedMessage interface > should create valid queued message object
(pass) Error Handling Types and Constants > QueuedMessage interface > should handle message with retry attempts
(pass) Error Handling Utility Functions > exponential backoff calculation > should calculate exponential backoff delays
(pass) Error Handling Utility Functions > exponential backoff calculation > should cap maximum delay
(pass) Error Handling Utility Functions > message queue management > should serialize and deserialize queued messages
(pass) Error Handling Utility Functions > message queue management > should handle empty message queue
(pass) Error Handling Utility Functions > connection status transitions > should validate connection status transitions
(pass) Error Handling Utility Functions > connection status transitions > should handle status change logic [1.00ms]
(pass) Error Handling Utility Functions > error message formatting > should format user-friendly error messages
(pass) Error Handling Utility Functions > network status detection > should detect online/offline status
(pass) Error Handling Utility Functions > network status detection > should handle connection type detection

packages/frontend/src/services/__tests__/error-handling-integration.test.ts:

# Unhandled error between tests
-------------------------------
 9 | import { ChatService } from '../chat-service';
10 | import { PresenceService } from '../presence-service';
11 | import type { ChatError, ConnectionStatus } from '../../types/chat';
12 | 
13 | // Mock the service classes
14 | mock.module('../chat-service', () => ({
     ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/services/__tests__/error-handling-integration.test.ts:14:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/services/__tests__/connection-manager.auth.test.ts:

# Unhandled error between tests
-------------------------------
 8 | import { ConnectionManager } from '../connection-manager';
 9 | import { ChatService } from '../chat-service';
10 | import { PresenceService } from '../presence-service';
11 | 
12 | // Mock the services
13 | mock.module('../chat-service', () => ({
     ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/services/__tests__/connection-manager.auth.test.ts:13:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/services/__tests__/presence-service.test.ts:

# Unhandled error between tests
-------------------------------
 7 | import { PresenceService } from '../presence-service';
 8 | import type { OnlineUser, ConnectionStatus } from '../../types/chat';
 9 | 
10 | // Mock Supabase
11 | const mockChannel = {
12 |   on: mock().mockReturnThis(),
           ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/services/__tests__/presence-service.test.ts:12:7
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/services/__tests__/service-integration.test.ts:
(pass) Service Integration > ChatService > should create instance with default config [1.00ms]
[ChatService] ChatService initialized with config: {
  maxMessages: 25,
  presenceHeartbeatInterval: 15000,
  maxReconnectAttempts: 3,
  reconnectDelay: 1000,
  debug: true,
}
(pass) Service Integration > ChatService > should create instance with custom config
(pass) Service Integration > ChatService > should handle message validation [1.00ms]
(pass) Service Integration > ChatService > should handle subscriptions
(pass) Service Integration > PresenceService > should create instance with default config
(pass) Service Integration > PresenceService > should handle user queries
(pass) Service Integration > PresenceService > should handle subscriptions
(pass) Service Integration > ConnectionManager > should create instance and provide service access
119 |       const connectionManager = new ConnectionManager({ debug: false });
120 | 
121 |       expect(connectionManager.isHealthy()).toBe(false);
122 | 
123 |       const stats = connectionManager.getConnectionStats();
124 |       expect(stats).toEqual({
                          ^
error: expect(received).toEqual(expected)

  {
    chatConnected: false,
+   isAuthenticated: false,
    isHealthy: false,
    presenceConnected: false,
    reconnectAttempts: 0,
  }

- Expected  - 0
+ Received  + 1

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/services/__tests__/service-integration.test.ts:124:21)
(fail) Service Integration > ConnectionManager > should provide health monitoring [1.00ms]
(pass) Service Integration > ConnectionManager > should handle subscriptions
(pass) Service Integration > ConnectionManager > should handle disconnect without initialization
(pass) Service Integration > Service Exports > should export all required services and utilities

packages/frontend/src/utils/__tests__/errorHandling.test.ts:
(pass) Error Handling Utilities > should identify network errors correctly [1.00ms]
(pass) Error Handling Utilities > should identify authentication errors correctly
(pass) Error Handling Utilities > should identify animation errors correctly
(pass) Error Handling Utilities > should identify validation errors correctly [1.00ms]
(pass) Error Handling Utilities > should identify API errors correctly
(pass) Error Handling Utilities > should handle unknown errors
(pass) Error Handling Utilities > should get user-friendly error messages
(pass) Error Handling Utilities > should get technical error messages
(pass) Error Handling Utilities > should identify recoverable errors
(pass) Error Handling Utilities > should identify non-recoverable errors
(pass) Error Handling Utilities > should calculate retry delay with exponential backoff
(pass) Error Handling Utilities > should create error context
Executing reveal fallback for: animation
(pass) Error Handling Utilities > should execute reveal fallback
Executing simple fallback for: network
(pass) Error Handling Utilities > should execute simple fallback
Executing refresh fallback for: auth
(pass) Error Handling Utilities > should execute refresh fallback
No fallback available for: validation
(pass) Error Handling Utilities > should handle no fallback
[NETWORK] Network request failed - possible connectivity issue {
  message: "Network request failed",
  stack: "Error: Network request failed\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:159:23)\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:158:64)",
  strategy: "network",
  operation: "test operation",
  component: "TestComponent",
  attemptCount: 1,
  userId: undefined,
  timestamp: 1759075901016,
}
Retrying test operation in 1018.8248676054543ms (attempt 1/3)
Retry 1 failed for test operation: warn: Still failing
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:166:15)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:163:23)
      at handleErrorWithRecovery (/home/juan/random/appgameproj/packages/frontend/src/utils/errorHandling.ts:390:13)

[NETWORK] Network request failed - possible connectivity issue {
  message: "Network request failed",
  stack: "Error: Network request failed\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:159:23)\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:158:64)",
  strategy: "network",
  operation: "test operation",
  component: "TestComponent",
  attemptCount: 2,
  userId: undefined,
  timestamp: 1759075901016,
}
Retrying test operation in 2114.9106629207076ms (attempt 2/3)
(pass) Error Handling Utilities > should handle error with recovery - successful retry [3134.90ms]
[ANIMATION] Animation system error - falling back to reveal mode {
  message: "Animation failed",
  stack: "Error: Animation failed\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:180:23)\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:179:64)",
  strategy: "animation",
  operation: "animation",
  component: "TestComponent",
  attemptCount: 1,
  userId: undefined,
  timestamp: 1759075904151,
}
(pass) Error Handling Utilities > should handle error with recovery - fallback success [1.00ms]
[VALIDATION] Input validation failed - malformed request data {
  message: "Invalid input",
  stack: "Error: Invalid input\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:196:23)\n    at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/errorHandling.test.ts:195:68)",
  strategy: "validation",
  operation: "validation",
  component: "TestComponent",
  attemptCount: 1,
  userId: undefined,
  timestamp: 1759075904151,
}
(pass) Error Handling Utilities > should handle error with recovery - no recovery possible
(pass) Error Handling Utilities > should handle context-based error detection
(pass) Error Handling Utilities > should handle error message variations
(pass) Error Handling Utilities > should handle authentication message variations

packages/frontend/src/utils/__tests__/carousel-integration.test.ts:
Winning position calculation: {
  sequenceLength: 75,
  minPosition: 30,
  maxPosition: 45,
  calculatedPosition: 34,
  safePosition: 34,
  bufferFromEnd: 41,
}
(pass) Carousel Integration Tests > End-to-End Carousel Generation > should generate a complete, valid carousel sequence [2.00ms]
(pass) Carousel Integration Tests > End-to-End Carousel Generation > should create mathematically accurate positioning
(pass) Carousel Integration Tests > End-to-End Carousel Generation > should handle different case scenarios [1.00ms]
(pass) Carousel Integration Tests > Carousel Accuracy Validation > should ensure winning item lands precisely in center
(pass) Carousel Integration Tests > Carousel Accuracy Validation > should maintain consistent item distribution [1.00ms]
(pass) Carousel Integration Tests > Performance and Reliability > should handle edge cases without errors
(pass) Carousel Integration Tests > Performance and Reliability > should generate consistent results for same inputs [1.00ms]
(pass) Carousel Integration Tests > Performance and Reliability > should validate timing constants are realistic
Winning position calculation: {
  sequenceLength: 75,
  minPosition: 30,
  maxPosition: 45,
  calculatedPosition: 41,
  safePosition: 41,
  bufferFromEnd: 34,
}
(pass) Carousel Integration Tests > Real-world Scenario Testing > should simulate a complete case opening flow
Winning position calculation: {
  sequenceLength: 50,
  minPosition: 30,
  maxPosition: 45,
  calculatedPosition: 42,
  safePosition: 42,
  bufferFromEnd: 8,
}
Winning position calculation: {
  sequenceLength: 50,
  minPosition: 30,
  maxPosition: 45,
  calculatedPosition: 37,
  safePosition: 37,
  bufferFromEnd: 13,
}
Winning position calculation: {
  sequenceLength: 50,
  minPosition: 30,
  maxPosition: 45,
  calculatedPosition: 44,
  safePosition: 44,
  bufferFromEnd: 6,
}
(pass) Carousel Integration Tests > Real-world Scenario Testing > should handle multiple consecutive case openings [1.00ms]

packages/frontend/src/utils/__tests__/carousel.test.ts:
(pass) Carousel Utilities > generateCarouselSequence > should generate a sequence with the correct length
(pass) Carousel Utilities > generateCarouselSequence > should place the winning item at the specified position
(pass) Carousel Utilities > generateCarouselSequence > should only have one winning item in the sequence
(pass) Carousel Utilities > generateCarouselSequence > should generate unique IDs for each carousel item
(pass) Carousel Utilities > generateCarouselSequence > should throw error for empty items array
(pass) Carousel Utilities > generateCarouselSequence > should throw error for invalid winning position
Winning position calculation: {
  sequenceLength: 75,
  minPosition: 50,
  maxPosition: 65,
  calculatedPosition: 55,
  safePosition: 55,
  bufferFromEnd: 20,
}
(pass) Carousel Utilities > calculateWinningPosition > should return a position within the specified range
Winning position calculation: {
  sequenceLength: 75,
  minPosition: 30,
  maxPosition: 45,
  calculatedPosition: 42,
  safePosition: 42,
  bufferFromEnd: 33,
}
(pass) Carousel Utilities > calculateWinningPosition > should not exceed sequence length minus buffer
Winning position calculation: {
  sequenceLength: 10,
  minPosition: 5,
  maxPosition: 8,
  calculatedPosition: 7,
  safePosition: 7,
  bufferFromEnd: 3,
}
(pass) Carousel Utilities > calculateWinningPosition > should handle edge cases
(pass) Carousel Utilities > validateCarouselSequence > should validate a correct sequence
(pass) Carousel Utilities > validateCarouselSequence > should reject empty sequence
Expected exactly 1 winning item, found 0
(pass) Carousel Utilities > validateCarouselSequence > should reject sequence with no winning items [1.00ms]
Expected exactly 1 winning item, found 2
(pass) Carousel Utilities > validateCarouselSequence > should reject sequence with multiple winning items
Invalid item data in carousel sequence
(pass) Carousel Utilities > validateCarouselSequence > should reject sequence with invalid item data
(pass) Carousel Utilities > getWeightedRandomItem > should return an item from the provided array
(pass) Carousel Utilities > getWeightedRandomItem > should respect rarity weights over multiple calls [1.00ms]
(pass) Carousel Utilities > getWeightedRandomItem > should handle custom weights [1.00ms]
(pass) Carousel Utilities > getWeightedRandomItem > should fallback gracefully with empty rarity groups
(pass) Carousel Utilities > CAROUSEL_TIMING constants > should have reasonable timing values
(pass) Carousel Utilities > CAROUSEL_TIMING constants > should have consistent item dimensions
(pass) Carousel Utilities > CAROUSEL_TIMING constants > should have reasonable sequence parameters
(pass) Carousel Utilities > Mathematical accuracy tests > should calculate precise final positions
(pass) Carousel Utilities > Mathematical accuracy tests > should handle edge case positions
(pass) Carousel Utilities > Performance tests > should generate large sequences efficiently [2.00ms]
(pass) Carousel Utilities > Performance tests > should validate large sequences efficiently [1.00ms]

packages/frontend/src/utils/__tests__/performance-optimization.test.ts:

# Unhandled error between tests
-------------------------------
1 | import { describe, test, expect } from 'bun:test';
2 | 
3 | // Mock browser APIs before importing modules
4 | const localStorageMock = {
5 |   getItem: jest.fn(() => null),
               ^
ReferenceError: jest is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/performance-optimization.test.ts:5:12
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/utils/__tests__/cache.test.ts:

# Unhandled error between tests
-------------------------------
1 | import { describe, test, expect } from 'bun:test';
2 | 
3 | // Mock localStorage
4 | const localStorageMock = {
5 |   getItem: jest.fn(),
               ^
ReferenceError: jest is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/cache.test.ts:5:12
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/utils/__tests__/carousel-fixes.test.ts:
(pass) Carousel Fixes Validation > Consistent Item Population > should populate carousel entirely with real items from case pool [1.00ms]
(pass) Carousel Fixes Validation > Consistent Item Population > should use weighted rarity distribution
(pass) Carousel Fixes Validation > Consistent Item Population > should handle edge cases gracefully
(pass) Carousel Fixes Validation > Weighted Random Selection > should respect rarity weights [1.00ms]
(pass) Carousel Fixes Validation > Weighted Random Selection > should handle missing rarities gracefully
(pass) Carousel Fixes Validation > Animation Direction Consistency > should calculate consistent left-to-right movement
(pass) Carousel Fixes Validation > Animation Direction Consistency > should maintain consistent direction without bounce-back
(pass) Carousel Fixes Validation > Animation Direction Consistency > should fix the slowing down phase direction issue
(pass) Carousel Fixes Validation > Animation Direction Consistency > should handle never-go-backwards animation logic
Test scenario: {
  startPosition: -10680,
  calculatedIntermediate: -8280,
  safeIntermediate: -8280,
  intermediatePosition: -8280,
  finalPosition: -4680,
}
(pass) Carousel Fixes Validation > Animation Direction Consistency > should handle the exact scenario from console logs
(pass) Carousel Fixes Validation > Animation Direction Consistency > should ensure consistent direction for all sequences
(pass) Carousel Fixes Validation > Real Item Validation > should only use items with valid properties
(pass) Carousel Fixes Validation > Real Item Validation > should generate unique carousel item IDs [1.00ms]
(pass) Carousel Fixes Validation > Real Item Validation > should eliminate blank spots by filtering invalid items

packages/frontend/src/utils/__tests__/lazy-loading.test.tsx:
3 | describe('Lazy Loading Utilities', () => {
4 |   describe('withLazyLoading', () => {
5 |     test('should create a lazy wrapper component', async () => {
6 |       const { withLazyLoading } = await import('../lazy-loading');
7 | 
8 |       const mockImportFn = jest.fn().mockResolvedValue({
                               ^
ReferenceError: jest is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/lazy-loading.test.tsx:8:28)
(fail) Lazy Loading Utilities > withLazyLoading > should create a lazy wrapper component [1.00ms]
(pass) Lazy Loading Utilities > Preloading Functions > should support preloading critical components
26 |       expect(result).toBeInstanceOf(Promise);
27 |     });
28 | 
29 |     test('should support preload on hover', async () => {
30 |       const { preloadOnHover } = await import('../lazy-loading');
31 |       const mockImport = jest.fn().mockResolvedValue({});
                              ^
ReferenceError: jest is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/utils/__tests__/lazy-loading.test.tsx:31:26)
(fail) Lazy Loading Utilities > Preloading Functions > should support preload on hover
(pass) Lazy Loading Utilities > Progressive Loading Hook > should provide preload functions [1.00ms]
(pass) Lazy Loading Utilities > Lazy Component Exports > should export lazy game components
(pass) Lazy Loading Utilities > Lazy Component Exports > should export lazy page components
(pass) Lazy Loading Utilities > Lazy Component Exports > should export lazy UI components

packages/frontend/src/hooks/__tests__/useCaseData.test.ts:

# Unhandled error between tests
-------------------------------
3 | import { useCaseData } from '../useCaseData'
4 | 
5 | // Mock dependencies
6 | const mockSupabase = {
7 |   auth: {
8 |     getSession: mock(() => Promise.resolve({
                    ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseData.test.ts:8:17
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/hooks/__tests__/useChat.test.ts:
(pass) useChat Hook > ChatMessage interface > should have correct message structure [2.00ms]
(pass) useChat Hook > OnlineUser interface > should have correct user structure
(pass) useChat Hook > MessageStatus enum > should have correct status values
(pass) useChat Hook > ConnectionStatus type > should accept valid connection statuses
(pass) useChat Hook > ChatError interface > should have correct error structure

packages/frontend/src/hooks/__tests__/useCaseOpeningGame.test.ts:

# Unhandled error between tests
-------------------------------
84 |     success: mock(),
85 |     error: mock()
86 |   })
87 | }))
88 | 
89 | describe('useCaseOpeningGame', () => {
     ^
ReferenceError: describe is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseOpeningGame.test.ts:89:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/hooks/__tests__/useChat.auth.test.ts:

# Unhandled error between tests
-------------------------------
 9 | import { useChat, useChatState } from '../useChat';
10 | import { useAuth } from '../useAuth';
11 | import { connectionManager } from '../../services/connection-manager';
12 | 
13 | // Mock the auth hook
14 | jest.mock('../useAuth');
          ^
TypeError: jest.mock is not a function. (In 'jest.mock("../useAuth")', 'jest.mock' is undefined)
      at /home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useChat.auth.test.ts:14:6
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:
66 | 
67 |   test('should initialize with no error', () => {
68 |     // Simple test without React testing library
69 |     const hook = useErrorHandling()
70 | 
71 |     expect(hook.error).toBeNull()
                            ^
error: expect(received).toBeNull()

Received: undefined

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:71:24)
(fail) useErrorHandling > should initialize with no error [1.00ms]
77 |     const hook = useErrorHandling()
78 |     const networkError = new Error('Network request failed')
79 | 
80 |     const recovered = await hook.handleError(networkError, 'case opening')
81 | 
82 |     expect(recovered).toBe(true) // Recovered via retry
                           ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:82:23)
(fail) useErrorHandling > should handle network errors with retry
88 |     const authError = new Error('Authentication failed')
89 | 
90 |     const recovered = await hook.handleError(authError, 'case opening')
91 | 
92 |     expect(recovered).toBe(false)
93 |     expect(hook.error).toBe('Please log in to continue')
                            ^
error: expect(received).toBe(expected)

Expected: "Please log in to continue"
Received: undefined

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:93:24)
(fail) useErrorHandling > should handle authentication errors without retry
 98 |     const hook = useErrorHandling()
 99 |     const animationError = new Error('Animation failed')
100 | 
101 |     const recovered = await hook.handleError(animationError, 'carousel animation')
102 | 
103 |     expect(recovered).toBe(true) // Recovered via fallback
                            ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:103:23)
(fail) useErrorHandling > should handle animation errors with fallback
109 |     const validationError = new Error('Insufficient balance')
110 | 
111 |     const recovered = await hook.handleError(validationError, 'case opening')
112 | 
113 |     expect(recovered).toBe(false)
114 |     expect(hook.error).toBe('Insufficient balance')
                             ^
error: expect(received).toBe(expected)

Expected: "Insufficient balance"
Received: undefined

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:114:24)
(fail) useErrorHandling > should handle validation errors
127 |       return 'success'
128 |     })
129 | 
130 |     const finalResult = await hook.retryOperation(mockOperation, 'test retry')
131 | 
132 |     expect(callCount).toBe(2)
                            ^
error: expect(received).toBe(expected)

Expected: 2
Received: 0

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:132:23)
(fail) useErrorHandling > should retry operations successfully
141 |       throw new Error('Persistent network error')
142 |     })
143 | 
144 |     const finalResult = await hook.retryOperation(mockOperation, 'test retry')
145 | 
146 |     expect(finalResult).toBeNull()
                              ^
error: expect(received).toBeNull()

Received: undefined

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:146:25)
(fail) useErrorHandling > should stop retrying after max attempts [1.00ms]
151 |   test('should clear error', () => {
152 |     const hook = useErrorHandling()
153 | 
154 |     hook.clearError()
155 | 
156 |     expect(hook.error).toBeNull()
                             ^
error: expect(received).toBeNull()

Received: undefined

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:156:24)
(fail) useErrorHandling > should clear error
159 |   })
160 | 
161 |   test('should get user-friendly error messages', () => {
162 |     const hook = useErrorHandling()
163 |     const networkError = new Error('Network request failed')
164 |     const message = hook.getUserFriendlyMessage(networkError)
                               ^
TypeError: hook.getUserFriendlyMessage is not a function. (In 'hook.getUserFriendlyMessage(networkError)', 'hook.getUserFriendlyMessage' is undefined)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:164:26)
(fail) useErrorHandling > should get user-friendly error messages
171 |     const unknownError = new Error('Unknown error')
172 | 
173 |     const recovered = await hook.handleError(unknownError, 'unknown operation')
174 | 
175 |     expect(recovered).toBe(false)
176 |     expect(hook.error).toBe('An unexpected error occurred')
                             ^
error: expect(received).toBe(expected)

Expected: "An unexpected error occurred"
Received: undefined

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:176:24)
(fail) useErrorHandling > should handle unknown errors
180 |     const hook = useErrorHandling()
181 |     const animationError = new Error('Animation context failed')
182 | 
183 |     const recovered = await hook.handleError(animationError, 'animation context')
184 | 
185 |     expect(recovered).toBe(true) // Should recover via fallback
                            ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:185:23)
(fail) useErrorHandling > should handle animation context errors
190 |     const balanceError = new Error('Insufficient balance')
191 | 
192 |     const recovered = await hook.handleError(balanceError, 'balance validation')
193 | 
194 |     expect(recovered).toBe(false)
195 |     expect(hook.error).toBe('Insufficient balance')
                             ^
error: expect(received).toBe(expected)

Expected: "Insufficient balance"
Received: undefined

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:195:24)
(fail) useErrorHandling > should handle balance validation errors
203 |     })
204 | 
205 |     // Start retry operation
206 |     hook.retryOperation(mockOperation, 'test retry')
207 | 
208 |     expect(hook.isRetrying).toBe(true)
                                  ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:208:29)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useErrorHandling.test.ts:198:47)
(fail) useErrorHandling > should manage retry state correctly

packages/frontend/src/hooks/__tests__/useCaseAnimation.test.ts:
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseAnimation.test.ts:8:24)
(fail) useCaseAnimation > should initialize with no animation config
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseAnimation.test.ts:15:24)
(fail) useCaseAnimation > should start animation
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseAnimation.test.ts:34:24)
(fail) useCaseAnimation > should complete animation
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseAnimation.test.ts:57:24)
(fail) useCaseAnimation > should reset animation
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseAnimation.test.ts:80:24)
(fail) useCaseAnimation > should handle multiple animation starts
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseAnimation.test.ts:107:24)
(fail) useCaseAnimation > should maintain animation state during completion

packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:99:26)
(fail) useMobileChat > Device Detection > should detect mobile device correctly
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:110:26)
(fail) useMobileChat > Device Detection > should detect tablet device correctly
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:121:26)
(fail) useMobileChat > Device Detection > should detect desktop device correctly
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:132:26)
(fail) useMobileChat > Device Detection > should detect landscape orientation
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:149:26)
(fail) useMobileChat > Keyboard Detection > should detect keyboard open on mobile
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:159:26)
(fail) useMobileChat > Keyboard Detection > should use visual viewport API when available [1.00ms]
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:172:26)
(fail) useMobileChat > Keyboard Detection > should not detect keyboard on desktop
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:184:26)
(fail) useMobileChat > Touch Gestures > should handle swipe gestures
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:220:26)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:215:43)
(fail) useMobileChat > Touch Gestures > should handle pull to refresh
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:239:26)
(fail) useMobileChat > Touch Gestures > should handle tap outside to close
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:258:26)
(fail) useMobileChat > Responsive Utilities > should provide correct device type checks
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:269:26)
(fail) useMobileChat > Responsive Utilities > should determine when to show overlay
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:278:26)
(fail) useMobileChat > Responsive Utilities > should determine when to use bottom sheet
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:287:26)
(fail) useMobileChat > Responsive Utilities > should calculate optimal chat height
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:296:26)
(fail) useMobileChat > Responsive Utilities > should generate correct CSS classes [1.00ms]
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:307:26)
(fail) useMobileChat > Responsive Utilities > should generate collapsed classes correctly
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:316:26)
(fail) useMobileChat > Viewport Changes > should update state on window resize
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:334:26)
(fail) useMobileChat > Viewport Changes > should update state on orientation change
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:350:26)
(fail) useMobileChat > Configuration Options > should use custom swipe threshold
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:359:26)
(fail) useMobileChat > Configuration Options > should disable pull refresh when configured
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:368:26)
(fail) useMobileChat > Configuration Options > should disable tap outside when configured
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:385:26)
(fail) useMobileChat > Configuration Options > should use custom keyboard threshold
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:405:26)
(fail) useMobileChatAccessibility > Announcements > should manage announcements correctly
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:419:26)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:416:54)
(fail) useMobileChatAccessibility > Announcements > should clear announcements after timeout
437 |   describe('Focus Management', () => {
438 |     test('should focus message input', () => {
439 |       const mockInput = document.createElement('input');
440 |       mockInput.className = 'message-input';
441 |       mockInput.focus = jest.fn();
442 |       document.body.appendChild(mockInput);
                          ^
TypeError: document.body.appendChild is not a function. (In 'document.body.appendChild(mockInput)', 'document.body.appendChild' is undefined)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:442:21)
(fail) useMobileChatAccessibility > Focus Management > should focus message input
454 | 
455 |     test('should focus first message', () => {
456 |       const mockMessage = document.createElement('div');
457 |       mockMessage.className = 'chat-message';
458 |       mockMessage.focus = jest.fn();
459 |       document.body.appendChild(mockMessage);
                          ^
TypeError: document.body.appendChild is not a function. (In 'document.body.appendChild(mockMessage)', 'document.body.appendChild' is undefined)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:459:21)
(fail) useMobileChatAccessibility > Focus Management > should focus first message
473 |   describe('Keyboard Navigation', () => {
474 |     test('should handle escape key to close chat', () => {
475 |       const mockButton = document.createElement('button');
476 |       mockButton.className = 'chat-sidebar__toggle';
477 |       mockButton.click = jest.fn();
478 |       document.body.appendChild(mockButton);
                          ^
TypeError: document.body.appendChild is not a function. (In 'document.body.appendChild(mockButton)', 'document.body.appendChild' is undefined)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:478:21)
(fail) useMobileChatAccessibility > Keyboard Navigation > should handle escape key to close chat [1.00ms]
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:495:7)
(fail) useMobileChatAccessibility > Keyboard Navigation > should set up keyboard event listeners
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:508:27)
(fail) useMobileChatAccessibility > Cleanup > should clean up event listeners on unmount
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at renderHook (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:340:7)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useMobileChat.test.ts:522:35)
(fail) useMobileChatAccessibility > Cleanup > should clear timeouts on unmount

packages/frontend/src/hooks/__tests__/useCaseOpening.test.ts:

# Unhandled error between tests
-------------------------------
2 | import { describe, test, expect, jest } from 'bun:test';
3 | import { useCaseOpening } from '../useCaseOpening'
4 | import { supabase } from '../../lib/supabase'
5 | 
6 | // Mock supabase
7 | jest.mock('../../lib/supabase', () => ({
         ^
TypeError: jest.mock is not a function. (In 'jest.mock("../../lib/supabase", () => ({
  supabase: {
    auth: {
      getSession: jest.fn()
    }
  }
}))', 'jest.mock' is undefined)
      at /home/juan/random/appgameproj/packages/frontend/src/hooks/__tests__/useCaseOpening.test.ts:7:6
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/types/__tests__/chat.test.ts:
(pass) Chat Types > ChatMessage interface > should accept valid chat message [1.00ms]
(pass) Chat Types > OnlineUser interface > should accept valid online user
(pass) Chat Types > Type guards > isChatMessage > should return true for valid chat message
(pass) Chat Types > Type guards > isChatMessage > should return false for invalid chat message
(pass) Chat Types > Type guards > isChatMessage > should return false for null or undefined
(pass) Chat Types > Type guards > isOnlineUser > should return true for valid online user
(pass) Chat Types > Type guards > isOnlineUser > should return false for invalid online user
(pass) Chat Types > Enums > should have correct MessageStatus values
(pass) Chat Types > Enums > should have correct ChatErrorType values
(pass) Chat Types > Constants > should have correct CHAT_CONFIG values
(pass) Chat Types > Component Props > should accept valid ChatSidebarProps
(pass) Chat Types > Component Props > should accept valid MessageInputProps

packages/frontend/src/components/auth/__tests__/AuthForm.test.tsx:

# Unhandled error between tests
-------------------------------
50 |     </QueryClientProvider>
51 |   )
52 | }
53 | 
54 | describe('AuthForm', () => {
55 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/auth/__tests__/AuthForm.test.tsx:55:3)
      at /home/juan/random/appgameproj/packages/frontend/src/components/auth/__tests__/AuthForm.test.tsx:54:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/games/__tests__/carousel-validation.test.ts:
(pass) Carousel Validation Tests > Mathematical Precision Tests > should calculate exact center positioning for all winning positions
(pass) Carousel Validation Tests > Mathematical Precision Tests > should ensure winning item is always visible in viewport
(pass) Carousel Validation Tests > Sequence Generation Accuracy > should generate sequences that pass all validation checks
(pass) Carousel Validation Tests > Sequence Generation Accuracy > should handle all rarity types correctly [1.00ms]
(pass) Carousel Validation Tests > User Experience Validation > should create realistic animation distances
(pass) Carousel Validation Tests > User Experience Validation > should provide good item variety in sequences
(pass) Carousel Validation Tests > Edge Case Handling > should handle minimum viable sequences
(pass) Carousel Validation Tests > Edge Case Handling > should handle single item case pools
(pass) Carousel Validation Tests > Edge Case Handling > should handle boundary winning positions [1.00ms]
(pass) Carousel Validation Tests > Performance Validation > should generate large sequences efficiently [1.00ms]
(pass) Carousel Validation Tests > Performance Validation > should validate large sequences quickly [1.00ms]
(pass) Carousel Validation Tests > Consistency Validation > should produce deterministic results for same inputs
(pass) Carousel Validation Tests > Consistency Validation > should maintain item integrity throughout sequence

packages/frontend/src/components/games/__tests__/BettingPanel.test.tsx:

# Unhandled error between tests
-------------------------------
14 |   amount: 100
15 | }
16 | 
17 | const defaultProps = {
18 |   currentBet: mockCurrentBet,
19 |   setCurrentBet: jest.fn(),
                      ^
ReferenceError: jest is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BettingPanel.test.tsx:19:18
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/games/__tests__/RouletteWheelAccuracy.test.tsx:
(pass) RouletteWheel Accuracy > Base Rotation Calculation > calculates correct rotation for number 0 (first position) [1.00ms]
(pass) RouletteWheel Accuracy > Base Rotation Calculation > calculates correct rotation for number 32 (second position)
(pass) RouletteWheel Accuracy > Base Rotation Calculation > calculates correct rotation for number 26 (last position)
(pass) RouletteWheel Accuracy > Base Rotation Calculation > returns 0 for null winning number
(pass) RouletteWheel Accuracy > Base Rotation Calculation > handles invalid numbers gracefully
(pass) RouletteWheel Accuracy > Base Rotation Calculation > handles negative numbers
(pass) RouletteWheel Accuracy > Base Rotation Calculation > handles empty wheel array
(pass) RouletteWheel Accuracy > Final Rotation Calculation > adds minimum spins to base rotation
(pass) RouletteWheel Accuracy > Final Rotation Calculation > accounts for current rotation
(pass) RouletteWheel Accuracy > Final Rotation Calculation > calculates different final rotations for different numbers
(pass) RouletteWheel Accuracy > Final Rotation Calculation > handles null winning number
(pass) RouletteWheel Accuracy > Wheel Layout Validation > has correct number of segments
(pass) RouletteWheel Accuracy > Wheel Layout Validation > contains all numbers from 0 to 36
(pass) RouletteWheel Accuracy > Wheel Layout Validation > has no duplicate numbers
(pass) RouletteWheel Accuracy > Wheel Layout Validation > follows European roulette wheel order
(pass) RouletteWheel Accuracy > Visual Alignment > positions winning number correctly relative to pointer
(pass) RouletteWheel Accuracy > Visual Alignment > maintains consistent segment spacing
(pass) RouletteWheel Accuracy > Performance > calculates rotations quickly for all numbers [13.00ms]

packages/frontend/src/components/games/__tests__/CaseOpeningAnimation.test.tsx:

# Unhandled error between tests
-------------------------------
 9 | import CaseOpeningGame from '../CaseOpeningGame'
10 | import AuthProvider from '../../providers/AuthProvider'
11 | import ToastProvider from '../../providers/ToastProvider'
12 | 
13 | // Mock framer-motion
14 | mock.module('framer-motion', () => ({
     ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/CaseOpeningAnimation.test.tsx:14:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/games/__tests__/CaseOpeningCarousel.test.tsx:

# Unhandled error between tests
-------------------------------
73 | describe('CaseOpeningCarousel', () => {
74 |   const defaultProps = {
75 |     items: mockCarouselItems,
76 |     winningIndex: 30,
77 |     isSpinning: false,
78 |     onSpinComplete: mock(),
                         ^
ReferenceError: mock is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/CaseOpeningCarousel.test.tsx:78:21)
      at /home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/CaseOpeningCarousel.test.tsx:73:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/games/__tests__/BlackjackCard.test.tsx:
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackCard.test.tsx:16:5)
(fail) BlackjackCard > renders a card with correct suit and value [2.00ms]
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackCard.test.tsx:26:27)
(fail) BlackjackCard > renders a hidden card when isHidden is true
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackCard.test.tsx:37:5)
(fail) BlackjackCard > renders empty slot when no card is provided
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackCard.test.tsx:43:27)
(fail) BlackjackCard > applies correct color for red suits
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackCard.test.tsx:51:27)
(fail) BlackjackCard > applies correct color for black suits
255 |     // default to document.body instead of documentElement to avoid output of potentially-large
256 |     // head elements (such as JSS style blocks) in debug output
257 |     baseElement = document.body;
258 |   }
259 |   if (!container) {
260 |     container = baseElement.appendChild(document.createElement('div'));
                                  ^
TypeError: baseElement.appendChild is not a function. (In 'baseElement.appendChild(document.createElement("div"))', 'baseElement.appendChild' is undefined)
      at render (/home/juan/random/appgameproj/node_modules/@testing-library/react/dist/pure.js:260:29)
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackCard.test.tsx:59:27)
(fail) BlackjackCard > shows special border for face cards and aces

packages/frontend/src/components/games/__tests__/RouletteWheel.test.tsx:

# Unhandled error between tests
-------------------------------
56 |     </QueryClientProvider>
57 |   )
58 | }
59 | 
60 | describe('RouletteWheel', () => {
61 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/RouletteWheel.test.tsx:61:3)
      at /home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/RouletteWheel.test.tsx:60:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/games/__tests__/RouletteWheelAnimation.test.tsx:

# Unhandled error between tests
-------------------------------
 7 | import { render } from '@testing-library/react'
 8 | import { describe, test, expect } from 'bun:test'
 9 | import RouletteWheel from '../RouletteWheel'
10 | 
11 | // Mock framer-motion
12 | const mockAnimate = mock()
                         ^
ReferenceError: mock is not defined
      at /home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/RouletteWheelAnimation.test.tsx:12:21
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/games/__tests__/BlackjackGame.test.tsx:

# Unhandled error between tests
-------------------------------
56 |     </QueryClientProvider>
57 |   )
58 | }
59 | 
60 | describe('BlackjackGame', () => {
61 |   beforeEach(() => {
       ^
ReferenceError: beforeEach is not defined
      at <anonymous> (/home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackGame.test.tsx:61:3)
      at /home/juan/random/appgameproj/packages/frontend/src/components/games/__tests__/BlackjackGame.test.tsx:60:1
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/ui/__tests__/StatisticsDashboard.test.tsx:

# Unhandled error between tests
-------------------------------
4 | import StatisticsDashboard from '../StatisticsDashboard'
5 | 
6 | import { jest } from 'bun:test'
7 | 
8 | // Mock the auth hook
9 | jest.mock('../../../hooks/useAuth', () => ({
         ^
TypeError: jest.mock is not a function. (In 'jest.mock("../../../hooks/useAuth", () => ({
  useAuth: () => ({
    user: { id: "test-user-id" }
  })
}))', 'jest.mock' is undefined)
      at /home/juan/random/appgameproj/packages/frontend/src/components/ui/__tests__/StatisticsDashboard.test.tsx:9:6
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/ui/__tests__/UXEnhancements.test.tsx:

# Unhandled error between tests
-------------------------------
error: Cannot find module '../../hooks/useToast' from '/home/juan/random/appgameproj/packages/frontend/src/components/ui/__tests__/UXEnhancements.test.tsx'
-------------------------------


packages/frontend/src/components/ui/__tests__/GameHistoryTable.test.tsx:

# Unhandled error between tests
-------------------------------
4 | import GameHistoryTable from '../GameHistoryTable'
5 | 
6 | import { jest } from 'bun:test'
7 | 
8 | // Mock the auth hook
9 | jest.mock('../../../hooks/useAuth', () => ({
         ^
TypeError: jest.mock is not a function. (In 'jest.mock("../../../hooks/useAuth", () => ({
  useAuth: () => ({
    user: { id: "test-user-id" }
  })
}))', 'jest.mock' is undefined)
      at /home/juan/random/appgameproj/packages/frontend/src/components/ui/__tests__/GameHistoryTable.test.tsx:9:6
      at loadAndEvaluateModule (2:1)
-------------------------------


packages/frontend/src/components/ui/__tests__/Toast.test.tsx:
(pass) Toast > should export Toast component [1.00ms]
(pass) Toast > should have correct toast types

packages/frontend/src/components/layout/__tests__/AppLayout.integration.test.tsx:

# Unhandled error between tests
-------------------------------
 7 | import AuthProvider from '../../providers/AuthProvider';
 8 | import ChatProvider from '../../providers/ChatProvider';
 9 | import ToastProvider from '../../providers/ToastProvider';
10 | 
11 | // Mock the hooks
12 | jest.mock('../../../hooks/useChatLayout', () => ({
          ^
TypeError: jest.mock is not a function. (In 'jest.mock("../../../hooks/useChatLayout", () => ({
  useChatLayout: () => ({
    isCollapsed: !1,
    isVisible: !0,
    toggleChat: jest.fn(),
    position: "right"
  })
}))', 'jest.mock' is undefined)
      at /home/juan/random/appgameproj/packages/frontend/src/components/layout/__tests__/AppLayout.integration.test.tsx:12:6
      at loadAndEvaluateModule (2:1)
-------------------------------


3 tests skipped:
(skip) Database Integration > should connect to database
(skip) Database Integration > should create and retrieve user profile
(skip) Database Integration > should process game transactions atomically


88 tests failed:
(fail) Case Opening Monitoring Service > Currency Transaction Recording > should record failed currency transactions
(fail) Case Opening Monitoring Service > Database Operation Recording > should record failed database operations
(fail) DatabaseService > Statistics Operations > should validate statistics query parameters
(fail) DatabaseService > Error Handling > should handle SQL injection attempts
(fail) Case Opening Service Integration > Complete Case Opening Workflow > should demonstrate complete case opening logic flow
(fail) Case Opening Service Integration > Complete Case Opening Workflow > should demonstrate provably fair algorithm properties [1.00ms]
(fail) Game Fairness Testing > Roulette Fairness Testing > should have correct theoretical return to player (RTP) [606.98ms]
(fail) Game Fairness Testing > Roulette Fairness Testing > should maintain correct payout ratios
(fail) Game Fairness Testing > Blackjack Fairness Testing > should have correct basic strategy expected values [5648.82ms]
(fail) BlackjackGame > Edge Cases > should handle multiple aces correctly [22.00ms]
(fail) Service Integration > ConnectionManager > should provide health monitoring [1.00ms]
(fail) Lazy Loading Utilities > withLazyLoading > should create a lazy wrapper component [1.00ms]
(fail) Lazy Loading Utilities > Preloading Functions > should support preload on hover
(fail) useErrorHandling > should initialize with no error [1.00ms]
(fail) useErrorHandling > should handle network errors with retry
(fail) useErrorHandling > should handle authentication errors without retry
(fail) useErrorHandling > should handle animation errors with fallback
(fail) useErrorHandling > should handle validation errors
(fail) useErrorHandling > should retry operations successfully
(fail) useErrorHandling > should stop retrying after max attempts [1.00ms]
(fail) useErrorHandling > should clear error
(fail) useErrorHandling > should get user-friendly error messages
(fail) useErrorHandling > should handle unknown errors
(fail) useErrorHandling > should handle animation context errors
(fail) useErrorHandling > should handle balance validation errors
(fail) useErrorHandling > should manage retry state correctly
(fail) useCaseAnimation > should initialize with no animation config
(fail) useCaseAnimation > should start animation
(fail) useCaseAnimation > should complete animation
(fail) useCaseAnimation > should reset animation
(fail) useCaseAnimation > should handle multiple animation starts
(fail) useCaseAnimation > should maintain animation state during completion
(fail) useMobileChat > Device Detection > should detect mobile device correctly
(fail) useMobileChat > Device Detection > should detect tablet device correctly
(fail) useMobileChat > Device Detection > should detect desktop device correctly
(fail) useMobileChat > Device Detection > should detect landscape orientation
(fail) useMobileChat > Keyboard Detection > should detect keyboard open on mobile
(fail) useMobileChat > Keyboard Detection > should use visual viewport API when available [1.00ms]
(fail) useMobileChat > Keyboard Detection > should not detect keyboard on desktop
(fail) useMobileChat > Touch Gestures > should handle swipe gestures
(fail) useMobileChat > Touch Gestures > should handle pull to refresh
(fail) useMobileChat > Touch Gestures > should handle tap outside to close
(fail) useMobileChat > Responsive Utilities > should provide correct device type checks
(fail) useMobileChat > Responsive Utilities > should determine when to show overlay
(fail) useMobileChat > Responsive Utilities > should determine when to use bottom sheet
(fail) useMobileChat > Responsive Utilities > should calculate optimal chat height
(fail) useMobileChat > Responsive Utilities > should generate correct CSS classes [1.00ms]
(fail) useMobileChat > Responsive Utilities > should generate collapsed classes correctly
(fail) useMobileChat > Viewport Changes > should update state on window resize
(fail) useMobileChat > Viewport Changes > should update state on orientation change
(fail) useMobileChat > Configuration Options > should use custom swipe threshold
(fail) useMobileChat > Configuration Options > should disable pull refresh when configured
(fail) useMobileChat > Configuration Options > should disable tap outside when configured
(fail) useMobileChat > Configuration Options > should use custom keyboard threshold
(fail) useMobileChatAccessibility > Announcements > should manage announcements correctly
(fail) useMobileChatAccessibility > Announcements > should clear announcements after timeout
(fail) useMobileChatAccessibility > Focus Management > should focus message input
(fail) useMobileChatAccessibility > Focus Management > should focus first message
(fail) useMobileChatAccessibility > Keyboard Navigation > should handle escape key to close chat [1.00ms]
(fail) useMobileChatAccessibility > Keyboard Navigation > should set up keyboard event listeners
(fail) useMobileChatAccessibility > Cleanup > should clean up event listeners on unmount
(fail) useMobileChatAccessibility > Cleanup > should clear timeouts on unmount
(fail) BlackjackCard > renders a card with correct suit and value [2.00ms]
(fail) BlackjackCard > renders a hidden card when isHidden is true
(fail) BlackjackCard > renders empty slot when no card is provided
(fail) BlackjackCard > applies correct color for red suits
(fail) BlackjackCard > applies correct color for black suits
(fail) BlackjackCard > shows special border for face cards and aces

 421 pass
 3 skip
 88 fail
 40 errors
 106707 expect() calls
Ran 512 tests across 80 files. [19.82s]
